var Query=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=16)}([function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,f(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)})(e)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,r){return(c=u()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&l(i,r.prototype),i}).apply(null,arguments)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=r(17),d=h.tokenize,p=h.TOKEN_TYPES,m=h.DEBUG_TOKEN_TYPES,y=r(1).repeat,v=r(10).NODE_TYPES,g=Object.keys(v),b=/^(?:MILLENNIUM|MILLENNIA|CENTURY|CENTURIES|(?:DECADE|YEAR|QUARTER|MONTH|WEEK|DAY|HOUR|MINUTE|SECOND|MILLISECOND|MICROSECOND)S?|WEEKDAY|DOY|DOW|EPOCH|ISO|ISOWEEK|ISOYEAR|TIMEZONE(?:_HOUR|_MINUTE)?|INT|FLOAT|STRING|NUM|DATE)\b/i;e.exports={parseTokenList:S,parse:function(e){var t=[M].reduce((function(e,t){return t(e)}),d(e));return[R,A].reduce((function(e,t){return t(e)}),S(t,e))},NODE_TYPES:v,DEBUG_NODE_TYPES:g,KEYWORD_CONSTANTS:b};var _=function(e){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;i(this,t);var s=e?"Invalid token found: [".concat(m[e.type]," ").concat(e.value,"] at ").concat(e.start):"Unexpected end of tokens",u=s;void 0!==n&&(u+="\nExpected: [".concat(m[n]).concat(void 0!==o?" '".concat(o,"'"):"","]"));var c=Math.max(0,e.start-5);return u+="\nSource:     ".concat(r.substr(c,15)),u+="\nError here: ".concat(y(" ",Math.min(5,c)),"^"),a(this,f(t).call(this,u))}return o(t,e),t}(s(Error));s(Error);function w(e){for(var t=0;t<e.length;t++){var r=e[t];r.type===p.KEYWORD&&"RANGE"===r.value&&t<e.length-1&&e[t+1].type===p.BRACKET&&(r.type=p.NAME)}}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=0;function n(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=e[r];return!!i&&(t===i.type&&(void 0===n||n===i.value))}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return!!n(e,t)&&(s(),!0)}function a(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=e[r];if(!a)throw new _(null,t,n,i);if(n!==a.type&&(void 0===i||i!==a.value))throw new _(a,t,n,i);return e[r++]}function o(){return e[r]}function s(){return e[r++]}function u(){return r>=e.length}function c(){return!u()&&!n(p.KEYWORD)&&!n(p.BRACKET,")")}function l(){for(var e=o().start,r=f();n(p.QUERY_OPERATOR);){var i=s(),a={type:v.COMPOUND_QUERY,id:i.value,children:[r,f()]};a.source=t.substring(e,o()&&o().start).trim(),r=a}return r}function f(){for(var e=o().start,r={type:v.STATEMENT,id:null,children:[]};!u()&&!n(p.BRACKET,")")&&!n(p.QUERY_OPERATOR);)r.children.push(h());return r.source=t.substring(e,o()&&o().start).trim(),r}function h(){var e=a(p.KEYWORD),r={type:v.CLAUSE,id:e.value,children:[]};switch(e.value){case"FROM":for(;c();){var n=o(),s=void 0;if(i(p.BRACKET,"(")?(s=l(),a(p.BRACKET,")")):s=d(),r.children.push(s),i(p.KEYWORD,"AS")&&(s.alias=a(p.NAME).value,i(p.BRACKET,"("))){for(s.headers=[];c();){var u=a(p.NAME).value;if(s.headers.push(u),!i(p.COMMA))break}a(p.BRACKET,")")}if(i(p.KEYWORD,"ON"))s.predicate=m(),s.source+=" ON ".concat(s.predicate.source);else if(i(p.KEYWORD,"USING")){var f=a(p.NAME);s.using=f.value,s.source+=" USING ".concat(f.value)}if(s.inner=!0,i(p.KEYWORD,"LEFT")?s.inner=!1:i(p.KEYWORD,"INNER"),s.source=t.substring(n.start,o()&&o().start).trim(),!i(p.COMMA))break}break;case"SELECT":for(i(p.KEYWORD,"DISTINCT")&&(r.distinct=!0);c();){var h=o(),b=m();if(r.children.push(b),i(p.KEYWORD,"AS")){var w=a(p.NAME);b.alias=w.value,b.source+=" AS ".concat(w.value)}if(b.source=t.substring(h.start,o()&&o().start).trim(),!i(p.COMMA))break}break;case"ORDER BY":for(;c()&&(r.children.push(y()),i(p.COMMA)););break;case"GROUP BY":for(;c()&&(r.children.push(m()),i(p.COMMA)););break;case"WHERE":case"HAVING":r.children.push(m());break;case"WITH":for(;c();){var S=o(),E=a(p.NAME).value,O={type:v.SYMBOL,id:E};if(r.children.push(O),i(p.BRACKET,"(")){for(O.headers=[];c();){var T=a(p.NAME).value;if(O.headers.push(T),!i(p.COMMA))break}a(p.BRACKET,")")}if(a(p.KEYWORD,"AS"),a(p.BRACKET,"("),O.children=[l()],a(p.BRACKET,")"),!i(p.COMMA))break;O.source=t.substring(S.start,o()&&o().start).trim()}break;case"WINDOW":for(;c();){var D=o(),M=a(p.NAME).value,R={type:v.SYMBOL,id:M};if(a(p.KEYWORD,"AS"),a(p.BRACKET,"("),R.window=g(),a(p.BRACKET,")"),r.children.push(R),R.source=t.substring(D.start,o()&&o().start).trim(),!i(p.COMMA))break}break;case"VALUES":for(;c();){var A=o(),x={type:v.LIST,id:null,children:[]};for(r.children.push(x),a(p.BRACKET,"(");c()&&(x.children.push(m()),i(p.COMMA)););if(a(p.BRACKET,")"),x.source=t.substring(A.start,o()&&o().start).trim(),!i(p.COMMA))break}break;case"LIMIT":case"OFFSET":r.children.push(m());break;case"EXPLAIN":i(p.NAME,"ANALYSE")?r.children.push({type:v.SYMBOL,id:"ANALYSE"}):i(p.NAME,"AST")?r.children.push({type:v.SYMBOL,id:"AST"}):r.children.push({type:v.SYMBOL,id:"QUERY"});break;default:throw new _(e,t,p.KEYWORD)}return r.source=t.substring(e.start,o()&&o().start).trim(),r}function d(){var e,r=o();switch(r.type){case p.NAME:if(s(),i(p.BRACKET,"(")){for(e={type:v.FUNCTION_CALL,id:r.value,children:[]},i(p.KEYWORD,"DISTINCT")&&(e.distinct=!0);c()&&(e.children.push(m()),i(p.COMMA)||i(p.KEYWORD)););if(a(p.BRACKET,")"),i(p.KEYWORD,"FILTER")&&(a(p.BRACKET,"("),a(p.KEYWORD,"WHERE"),e.filter=m(),a(p.BRACKET,")")),i(p.KEYWORD,"WITHIN GROUP")&&(a(p.BRACKET,"("),a(p.KEYWORD,"ORDER BY"),e.order=y(),a(p.BRACKET,")")),i(p.KEYWORD,"OVER")){var u=i(p.BRACKET,"(");n(p.NAME)?(e.window=s().value,u&&a(p.BRACKET,")")):(u||a(p.BRACKET,"("),e.window=g(),a(p.BRACKET,")"))}break}e={type:v.SYMBOL,id:r.value};break;case p.STRING:s(),e={type:v.STRING,id:r.value};break;case p.NUMBER:s(),e={type:v.NUMBER,id:+r.value};break;case p.CONSTANT:s(),e={type:v.CONSTANT,id:r.value};break;case p.PARAM:s(),e={type:v.PARAM,id:r.value};break;case p.OPERATOR:s(),e={type:v.OPERATOR,id:r.value,children:[]};break;case p.BRACKET:if(s(),n(p.KEYWORD)){e=l(),a(p.BRACKET,")");break}for(e={type:v.LIST,id:null,children:[]};c()&&(e.children.push(m()),i(p.COMMA)););a(p.BRACKET,")");break;case p.COMMA:throw new Error("ParseError: Unexpected comma at ".concat(r.start));default:throw new _(r,t)}return e.source=t.substring(r.start,o()&&o().start).trim(),e}function m(){for(var e=o().start,r=[];!u()&&!n(p.BRACKET,")");)try{r.push(d())}catch(e){break}if(0===r.length)throw Error("Expected an expression but didn't find one");if(1===r.length)return r[0];E(r),T(r),O(r);var i=0;var a=function e(t){var r=t[i];if(!r||r.type!==v.OPERATOR)throw Error("Expecting an operator");var n=t[++i];if(n.type===v.OPERATOR?n=e(t):n.type===v.LIST&&((n=n.children[0]).source="(".concat(n.source,")")),r.children[0]=n,"IS NULL"===r.id||"IS NOT NULL"===r.id)return r;var a=t[++i];if(a.type===v.OPERATOR?a=e(t):a.type===v.LIST&&"IN"!==r.id&&"NOT IN"!==r.id&&((a=a.children[0]).source="(".concat(a.source,")")),r.children[1]=a,r.source="".concat(r.children[0].source," ").concat(r.source," ").concat(r.children.length>1?r.children[1].source:""),"BETWEEN"===r.id){var o=t[++i];o.type===v.OPERATOR?o=e(t):o.type===v.LIST&&(o=o.children[0]),r.children[2]=o,r.source+=" AND ".concat(o.source)}return r}(r);return a.source=t.substring(e,o()&&o().start).trim(),a}function y(){var e=m();return i(p.KEYWORD,"DESC")?e.desc=!0:i(p.KEYWORD,"ASC"),e}function g(){var e={};return i(p.KEYWORD,"PARTITION BY")&&(e.partition=m()),i(p.KEYWORD,"ORDER BY")&&(e.order=y()),(n(p.KEYWORD,"ROWS")||n(p.KEYWORD,"RANGE")||n(p.KEYWORD,"GROUPS"))&&(e.frameUnit=s().value.toLowerCase(),a(p.OPERATOR,"BETWEEN"),i(p.KEYWORD,"UNBOUNDED")?(e.preceding=Number.POSITIVE_INFINITY,a(p.KEYWORD,"PRECEDING")):i(p.KEYWORD,"CURRENT ROW")?e.preceding=0:(e.preceding=+a(p.NUMBER).value,a(p.KEYWORD,"PRECEDING")),a(p.OPERATOR,"AND"),i(p.KEYWORD,"UNBOUNDED")?(e.following=Number.POSITIVE_INFINITY,a(p.KEYWORD,"FOLLOWING")):i(p.KEYWORD,"CURRENT ROW")?e.following=0:(e.following=+a(p.NUMBER).value,a(p.KEYWORD,"FOLLOWING"))),e}return(w(e),l())}function E(e){for(var t=!1,r=0;r<e.length;r++){var n=e[r];if(!n)break;"BETWEEN"===n.id?t=!0:t&&"AND"===n.id&&(n.id="BAND",t=!1)}}function O(e){for(var t in e)"BAND"===e[t].id&&e.splice(t,1)}function T(e){for(var t=e.length-1;t>0;t--){if(e[t].type===v.OPERATOR)for(var r=t;r>0;r--){var n=e[r],i=e[r-1];if(i.type===v.OPERATOR&&D(i)<D(n))break;e[r-1]=n,e[r]=i}}}function D(e){switch(e.id){case"AND":return 10;case"OR":return 15;case"BETWEEN":case"BAND":case">":case"<":case"=":case"!=":case"<=":case">=":case"IS NULL":case"IS NOT NULL":case"IN":case"NOT IN":case"LIKE":case"NOT LIKE":case"REGEXP":case"NOT REGEXP":return 20;case"||":return 25;case"+":case"-":return 30;case"*":case"/":return 40;case"??":return 50;default:return 100}}function M(e){for(var t=0;t<e.length-1;t++)e[t].type===p.STRING&&e[t+1].type===p.BRACKET&&"("===e[t+1].value&&(e[t].type=p.NAME);return e}function R(e){return e=x(e,(function(e){if(e.type===v.FUNCTION_CALL&&/^CAST$/i.test(e.id)){var t=e.children[1];/^(INT|REAL|FLOAT|NUM|DATE|STRING)$/.test(t.id)&&(t.type=v.STRING)}return e}))}function A(e){return e=x(e,(function(e){if(e.type===v.FUNCTION_CALL&&/^EXTRACT$/i.test(e.id)){var t=e.children[0];b.test(t.id)&&(t.type=v.STRING)}return e}))}function x(e,t){if((e=t(e)).children)for(var r=0;r<e.children.length;r++)e.children[r]=x(e.children[r],t);return e}},function(e,t){function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e){return null==e?null:"[object Object]"===e.toString()||Array.isArray(e)?void 0:e}function u(e,t){var r,n=[];do{(r=t.exec(e))&&n.push(r)}while(r||!t.global);return n}function c(e,t){for(var r={},n=0;n<e.length;n++)r[e[n]]=t[n];return r}e.exports={scalar:s,getColumnTypes:function(e){if(e)return Object.entries(e).filter((function(e){var t=o(e,2);t[0];return void 0!==s(t[1])})).map((function(e){var t=o(e,2),r=t[0],n=t[1];return{name:r,type:n instanceof Date?"date":a(n)}}));return[]},repeat:function(e,t){return Array(t+1).join(e)},isNullDate:function(e){return"Invalid date"===e||e instanceof Date&&isNaN(+e)},isValidDate:function(e){return e instanceof Date&&!isNaN(+e)},deepClone:function(e,t){if(0===t.length)return n({},e);var r=t.split(".");return n({},e,i({},r[0],n({},e[r[0]])))},matchAll:u,matchInBrackets:function(e){var t=u(e,/[\(\)]/g);if(0===t.length)return null;var r=0,n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value;if("("===c[0]?r++:r--,0===r)return e.substring(t[0].index+1,c.index)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}throw Error("Unmatched bracket")},queryResultToObjectArray:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.shift();return e.map((function(e){return c(t||r,e)}))},toUTF8Array:function(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return t},split:function(e,t,r){var n=e.indexOf(t);if(-1===n)return[e];if(r>2)throw Error("Split above 2 not implemented.");return[e.substr(0,n),e.substr(n+1)]},zip:c}},function(e,t,r){function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,f(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)})(e)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,r){return(c=u()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&l(i,r.prototype),i}).apply(null,arguments)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){function t(){return a(this,t),o(this,f(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),t}(s(Error));e.exports={evaluate:O,getRowEvaluator:T,evaluateConstantExpression:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r={evaluate:O,params:t};return O.call(r,null,e)},isConstantExpression:function e(t){if(t.type===p.NUMBER||t.type===p.STRING||t.type===p.CONSTANT||t.type===p.PARAM)return!0;if(t.type===p.FUNCTION_CALL||t.type===p.OPERATOR)return t.children.every((function(t){return e(t)}));return!1},aggregateValues:R,rowSorter:D,comparator:M,SymbolError:h};var d=r(0),p=d.NODE_TYPES,m=d.KEYWORD_CONSTANTS,y=r(4),v=y.OPERATORS,g=y.VALUE_FUNCTIONS,b=y.WINDOW_FUNCTIONS,_=y.AGGREGATE_FUNCTIONS,w=y.TABLE_VALUED_FUNCTIONS,S=y.isStrictNull,E=r(1).isValidDate;function O(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;switch(t.type){case p.STATEMENT:throw Error("Statements can only be evaluated as one of the explicit column values.");case p.FUNCTION_CALL:var a=t.id;if(t.window){var o=n(i),s="string"==typeof t.window?this.windows[t.window]:t.window;if(s.partition){var u=this.evaluate(e,s.partition,o);o=o.filter((function(e){return v["="](r.evaluate(e,s.partition,o),u)}))}s.order&&o.sort(D(this.evaluate,s.order));var c=o.indexOf(e);if(s.frameUnit){if(!s.order)throw Error("Frames can only be specified with an ORDER BY clause");if("rows"===s.frameUnit){var l=Math.max(c-s.preceding,0);o=o.slice(l,c+s.following+1)}else if("range"===s.frameUnit){var f=+this.evaluate(e,s.order,i),h=f-s.preceding,d=f+s.following;o=o.filter((function(e){var t=r.evaluate(e,s.order,i);return h<=t&&t<=d}))}}if(t.id in b){if(!s.order)throw Error("Window functions require ORDER BY in OVER clause");var y=b[t.id],S=o.map(T(this,s.order,i));return y.apply(void 0,[c,S,o,this.evaluate].concat(n(t.children)))}if(t.id in _){if(0===t.children.length)throw new Error("Function ".concat(t.id," requires at least one paramater."));var O=_[t.id];return O(R(this,o,t.children[0],t.distinct))}throw Error("".concat(t.id," is not a window function"))}if(a in _){if(e.group){var M=_[a];return M(R(this,e.group,t.children[0]))}return}var A=void 0!==this.userFunctions&&this.userFunctions[a]||g[a];if(!A){if(a in w)throw new Error("Tried to call a table-valued-function as a value function: ".concat(a));throw new Error("Tried to call a non-existant function (".concat(a,")"))}var x=t.children.map((function(t){try{return r.evaluate(e,t,i)}catch(e){return null}}));try{return A.apply(void 0,n(x))}catch(e){return null}case p.SYMBOL:var N=String(t.id);try{if(this.resolveValue instanceof Function)return this.resolveValue(e,N,i);throw new Error('Symbol detected in Constant Expression: "'.concat(t.id,'"'))}catch(e){if(N.match(m))return N.toUpperCase();throw e}case p.STRING:if(/^\d{4}-\d{2}-\d{2}/.test(String(t.id))){var k=new Date(t.id);if(E(k))return k}return String(t.id);case p.NUMBER:return+t.id;case p.CONSTANT:if("TRUE"===t.id)return!0;if("FALSE"===t.id)return!1;if("NULL"===t.id)return null;if("NOW"===t.id)return new Date;if("PI"===t.id)return Math.PI;throw Error("Unrecognised constant: "+t.id);case p.PARAM:if(void 0===this.params||null===this.params||void 0===this.params[t.id])throw Error("Named parameter not found '"+t.id+"'");return this.params[t.id];case p.OPERATOR:if("AND"===t.id)return Boolean(this.evaluate(e,t.children[0],i)&&this.evaluate(e,t.children[1],i));if("OR"===t.id)return Boolean(this.evaluate(e,t.children[0],i)||this.evaluate(e,t.children[1],i));var Y=v[t.id];if(!Y)throw new Error("Unsupported operator '".concat(t.id,"'"));return Y.apply(void 0,n(t.children.map((function(t){return r.evaluate(e,t,i)}))));case p.CLAUSE:if("WHERE"===t.id||"ON"===t.id){if(t.children.length>0)return Boolean(this.evaluate(e,t.children[0],i));throw new Error("Empty predicate clause: ".concat(t.id))}throw Error("Cannot evaluate ".concat(t.id," clause"));case p.LIST:return t.children.map((function(t){return r.evaluate(e,t,i)}));default:throw new Error("Can't execute node type ".concat(t.type,": ").concat(t.id))}}function T(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(n){try{return e.evaluate(n,t,r)}catch(e){if(e instanceof h)return null;throw e}}}function D(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(n,i){return M(e(n,t,r),e(i,t,r))*(t.desc?-1:1)}}function M(e,t){return e instanceof Date&&(e=+e),t instanceof Date&&(t=+t),isFinite(e)&&isFinite(t)?+e-+t:String(e).localeCompare(t)}function R(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("*"===r.id)return t.map((function(e){return!0}));var i=t.map(T(e,r,t));return i=i.filter((function(e){return!S(e)})),n&&(i=Array.from(new Set(i))),i}},function(e,t,r){var n=Symbol("Pending Value");e.exports={PendingValue:n,resolvePath:s,resolveValue:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=this.tables,l=this.colAlias,f=this.cols;if(null===e)throw Error("Resolve Value Error: NULL Row");if(void 0!==l[t]){var h=l[t];if(void 0===e[h]&&o(this,e,h,f[h],r),void 0!==e[h]&&e[h]!==n)return e[h]}var d,p=u(c),m=t;for(;m.length>0;){if(m in p){var y=p[m],v=a(e,y);if(void 0===v)throw new i("[Pre-Join] Unable to resolve symbol: "+t);return s(v,d)}var g=c.filter((function(e){return e.name===m}));if(g.length>0){var b=g[0];return s(a(e,b),d)}m=m.substr(0,m.lastIndexOf(".")),d=t.substr(m.length+1)}var _=!0,w=!1,S=void 0;try{for(var E,O=c[Symbol.iterator]();!(_=(E=O.next()).done);_=!0){var T=E.value,D=a(e,T);if(void 0!==D){if(null===D)return null;var M=s(D,t);if(void 0!==M)return M}}}catch(e){w=!0,S=e}finally{try{_||null==O.return||O.return()}finally{if(w)throw S}}if(this.outer){var R=this.outer.context.resolveValue(this.outer.row,t,this.outer.rows);if(void 0!==R)return R}throw new i("Unable to resolve symbol: "+t)},setTableAliases:function(e){var t={},r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){for(var s=a.value,u=s.alias||s.name,c=1;u in t;)u="".concat(s.alias||s.name,"_").concat(c++);s.alias=u,t[u]=s}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}},getTableAliasMap:u};var i=r(2).SymbolError,a=r(8).getRowData,o=r(12).populateValue;function s(e,t){if(null==e)return null;if(void 0===t)return e;if(t in e)return e[t];var r=e,n=!0,i=!1,a=void 0;try{for(var o,s=t.split(".")[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){if(void 0===(r=r[o.value])){r=null;break}}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return null!=r?r:void 0}function u(e){var t={},r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;t[s.alias]=s}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}},function(e,t,r){function n(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,u,"next",e)}function u(e){n(o,i,a,s,u,"throw",e)}s(void 0)}))}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s=r(1),u=s.queryResultToObjectArray,c=s.zip,l=r(13);r(20)(l);var f=r(1),h=f.isNullDate,d=f.toUTF8Array,p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m={COALESCE:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.find(R["IS NOT NULL"])},RAND:Math.random,CAST:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return/^int|^float|^real/i.test(t)&&e instanceof Date?+e:/^int/i.test(t)?parseInt(e):/^float|^real/i.test(t)?parseFloat(e):/^num/i.test(t)?+e:/^date$/i.test(t)?l(e).utc().format(r):String(e)},HEX:function(e){return"0x".concat((+e).toString(16))},BIN:function(e){return"0b".concat((+e).toString(2))},SUBSTR:function(e,t,r){return D(e)?null:String(e).substr(t,r)},REPLACE:function(e,t,r){return D(e)?null:String(e).split(t).join(r)},REVERSE:function(e){return D(e)?null:String(e).split("").reverse().join("")},LOWER:function(e){return D(e)?null:String(e).toLowerCase()},UPPER:function(e){return D(e)?null:String(e).toUpperCase()},CONCAT:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.join("")},CHAR:String.fromCodePoint,UNICODE:function(e){return D(e)?null:String(e).codePointAt(0)},JSON_STRINGIFY:JSON.stringify,TO_UTF8_HEX:function(e){return d(e).map((function(e){return e.toString(16).padStart(2,"0")})).join(" ")},LPAD:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return String(e).padStart(t,r)},RPAD:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return String(e).padEnd(t,r)},TRIM:function(e){return D(e)?null:String(e).trim()},REGEXP_EXTRACT:function(e,t){try{var r=RegExp(t).exec(e);return r?r[1]||r[0]:null}catch(e){return null}},WEEKDAY:function(e){return p[e]},DATE:function(e){return l(e).format("YYYY-MM-DD")},TIME:function(e){return l(e).format("HH:mm:ss")},DATETIME:function(e){return l(e).format("YYYY-MM-DD HH:mm:ss")},CURRENT_DATE:function(){return new Date},DURATION:function(e){return l.duration(e,"milliseconds").format()},DATE_ADD:function(e,t,r){return l(e).add(t,r).toDate()},DATE_DIFF:function(e,t,r){return l(e).diff(t,r)},AGE:function(e,t){return l().diff(e,t)},EXTRACT:function(e,t){var r=l(t);switch(e){case"CENTURY":case"CENTURIES":return Math.ceil(r.year()/100);case"DAY":case"DAYS":return r.date();case"DECADE":case"DECADES":return Math.floor(r.year()/10);case"DOW":return r.day();case"DOY":return r.dayOfYear();case"EPOCH":return Math.floor(+r/1e3);case"HOUR":case"HOURS":return r.hour();case"ISO":return r.toISOString();case"ISODOW":return r.isoWeekday();case"ISOYEAR":return r.isoWeekYear();case"MICROSECOND":case"MICROSECONDS":return 1e6*r.second()+1e3*r.millisecond();case"MILLENNIA":case"MILLENNIUM":return Math.ceil(r.year()/1e3);case"MILLISECOND":case"MILLISECONDS":return 1e3*r.second()+r.millisecond();case"MINUTE":case"MINUTES":return r.minute();case"MONTH":case"MONTHS":return r.month()+1;case"QUARTER":case"QUARTERS":return r.quarter();case"SECOND":case"SECONDS":return r.second()+r.millisecond()/1e3;case"TIMEZONE":return 60*r.utcOffset();case"TIMEZONE_HOUR":return Math.floor(r.utcOffset()/60);case"TIMEZONE_MINUTE":return r.utcOffset()%60;case"WEEK":case"WEEKS":return r.isoWeek();case"WEEKDAY":return p[r.day()];case"YEAR":case"YEARS":return r.year()}},DISTANCE:function(e,t,r,n){var i=c(e),a=c(r),o=c(r-e),s=c(n-t),u=Math.sin(o/2)*Math.sin(o/2)+Math.cos(i)*Math.cos(a)*Math.sin(s/2)*Math.sin(s/2);return 6371e3*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)));function c(e){return e*(Math.PI/180)}}};m.TO_CODE_POINT=m.UNICODE,m.FROM_CODE_POINT=m.CHAR;var y=!0,v=!1,g=void 0;try{for(var b,_=Object.getOwnPropertyNames(Math)[Symbol.iterator]();!(y=(b=_.next()).done);y=!0){var w=b.value;Math[w]instanceof Function&&(m[w.toUpperCase()]=Math[w])}}catch(e){v=!0,g=e}finally{try{y||null==_.return||_.return()}finally{if(v)throw g}}var S={COUNT:function(e){return e.filter((function(e){return!1!==e})).length},SUM:function(e){return e.reduce((function(e,t){return e+ +t}),0)},AVG:function(e){return S.SUM(e)/e.length},MIN:function(e){return Math.min.apply(Math,o(e))},MAX:function(e){return Math.max.apply(Math,o(e))},LISTAGG:function(e,t){return Array.isArray(t)&&(t=t[0]),e.join(t)},JSON_ARRAYAGG:JSON.stringify,JSON_OBJECTAGG:function(e,t){return JSON.stringify(c(e,t))},STDDEV_POP:function(e){return Math.sqrt(S.VAR_POP(e))},STDDEV_SAMP:function(e){return Math.sqrt(S.VAR_SAMP(e))},VAR_POP:function(e){return E(e)/e.length},VAR_SAMP:function(e){return 1===e.length?0:E(e)/(e.length-1)},COVAR_POP:function(e,t){var r=S.AVG(e),n=S.AVG(t);return S.AVG(e.map((function(r,n){return e[n]*t[n]})))-r*n},COVAR_SAMP:function(e,t){if(1===e.length)return 0;var r=S.AVG(e),n=S.AVG(t);return S.SUM(e.map((function(r,n){return e[n]*t[n]})))/(e.length-1)-r*n}};function E(e){var t=S.AVG(e);return S.SUM(e.map((function(e){return Math.pow(e-t,2)})))}S.STDDEV=S.STDDEV_SAMP;var O,T,D=function(e){return null==e||Number.isNaN(e)||h(e)},M=function(e){return""===e||D(e)},R={"+":function(e,t){return+e+ +t},"-":function(e,t){return+e-+t},"*":function(e,t){return+e*+t},"/":function(e,t){return+e/+t},"||":function(e,t){return D(e)||D(t)?null:"".concat(e).concat(t)},"=":function(e,t){return a(e)===a(t)&&("object"===a(e)?+e==+t:e===t)},"!=":function(e,t){return!R["="](e,t)},"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},"%":function(e,t){return e%t},"??":m.COALESCE,NOT:function(e){return!e},"IS NULL":M,"IS NOT NULL":function(e){return!M(e)},LIKE:function(e,t){return new RegExp("^"+t.replace(/\?/g,".").replace(/%/g,".*")+"$").test(e)},"NOT LIKE":function(e,t){return!R.LIKE(e,t)},REGEXP:function(e,t){return new RegExp(t,"i").test(e)},"NOT REGEXP":function(e,t){return!R.REGEXP(e,t)},AND:function(e,t){return Boolean(e&&t)},OR:function(e,t){return Boolean(e||t)},IN:function(e,t){return t.includes(e)},"NOT IN":function(e,t){return!R.IN(e,t)},BETWEEN:function(e,t,r){return t<=e&&e<r}},A={RANGE:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;void 0===t&&(t=e,e=0);var n=Math.abs(t-e);r=Math.abs(r);var i=Math.ceil(n/r);return e<t?Array(i).fill(0).map((function(t,n){return{value:e+n*r}})):Array(i).fill(0).map((function(t,n){return{value:e-n*r}}))},LOAD:(T=i(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return r=e.sent,e.abrupt("return",r.ok?r.json():(console.error("".concat(r.statusText,": ").concat(t)),null));case 4:case"end":return e.stop()}}),e)}))),function(e){return T.apply(this,arguments)}),HTML:(O=i(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return r=e.sent,e.t0=new DOMParser,e.next=6,r.text();case 6:if(e.t1=e.sent,n=e.t0.parseFromString.call(e.t0,e.t1,"text/html"),i=new URL(t).hash.replace("#","")||"1",(a=+(o=i)==o?n.getElementsByTagName("table")[+i-1]:n.getElementById(i))instanceof HTMLTableElement){e.next=12;break}throw Error("Could not find table ".concat(i," in ").concat(t));case 12:return e.abrupt("return",u(Array.from(a.getElementsByTagName("tr")).map((function(e){return Array.from(e.querySelectorAll("th,td")).map((function(e){return e.textContent}))}))));case 13:case"end":return e.stop()}var o}),e)}))),function(e){return O.apply(this,arguments)})};var x={ROW_NUMBER:function(e){return e+1},RANK:function(e,t){for(var r=t[e];R["="](t[--e],r););return e+2},DENSE_RANK:function(e,t){for(var r=0,n=t[e];--e>=0;)R["!="](t[e],n)&&r++,n=t[e];return r+1},PERCENT_RANK:function(e,t){return 1===t.length?0:(x.RANK(e,t)-1)/(t.length-1)},CUME_DIST:function(e,t){var r=t[e];return t.filter((function(e){return e<=r})).length/t.length},NTILE:function(e,t,r,n,i){var a=n(r[e],i),o=t.length/a;return Math.floor(e/o)+1},LAG:function(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o="number"==typeof a?a:Number(n(r[e],a));return N(e-o,r,n,i)},LEAD:function(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o="number"==typeof a?a:Number(n(r[e],a));return N(e+o,r,n,i)},FIRST_VALUE:function(e,t,r,n,i){return n(r[0],i)},LAST_VALUE:function(e,t,r,n,i){return n(r[r.length-1],i)},NTH_VALUE:function(e,t,r,n,i,a){return N(("number"==typeof a?a:Number(n(r[e],a)))-1,r,n,i)},CUME_SUM:function(e,t){var r=t[e];return S.SUM(t.filter((function(e){return e<=r})))},CUME_FRAC:function(e,t){return x.CUME_SUM(e,t)/S.SUM(t)},PERCENTILE_DISC:function(e,t,r,n,i){var a="number"==typeof i?i:Number(n(r[e],i)),o=t.findIndex((function(e,r){return x.CUME_DIST(r,t)>a}));return t[o]},PERCENTILE_CONT:function(e,t,r,n,i){var a="number"==typeof i?i:Number(n(r[e],i)),o=t.findIndex((function(e,r){return x.CUME_DIST(r,t)>a})),s=t[o-1],u=x.CUME_DIST(o-1,t),c=t[o],l=x.CUME_DIST(o,t);return s+(1-(l-a)/(l-u))*(c-s)},FREQ:function(e,t){var r=t[e];return t.filter((function(e){return e===r})).length/t.length},MAP:function(e,t,r,n,i){return r.map((function(e){return n(e,i)}))}};function N(e,t,r,n){return e<0||e>=t.length?null:r(t[e],n)}e.exports={VALUE_FUNCTIONS:m,AGGREGATE_FUNCTIONS:S,OPERATORS:R,TABLE_VALUED_FUNCTIONS:A,WINDOW_FUNCTIONS:x,isStrictNull:D}},function(e,t,r){var n=r(0).NODE_TYPES,i=r(2),a=i.SymbolError,o=i.evaluateConstantExpression;function s(e,t,r,i,o){if(!o&&r.type===n.OPERATOR&&"AND"===r.id)return s(e,t,r.children[0],i,!1)&&s(e,t,r.children[1],i,!1);try{return e.evaluate(t,r,i)}catch(e){if(e instanceof a)return!o;throw e}}e.exports={filterRow:s,filterRows:function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(r)return t.filter((function(i){return s(e,i,r,t,n)}));return t},traverseWhereTree:function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(t.type!==n.OPERATOR)return;if(!(null===i||t.id===i||Array.isArray(i)&&i.includes(String(t.id)))){if("AND"===t.id){var s=e(t.children[0],r,i,a);if(void 0!==s)return s;var u=e(t.children[1],r,i,a);return u}return}var c=t.children[0],l=t.children[1];if(l.type===n.SYMBOL){var f=[l,c];c=f[0],l=f[1]}if(c.type===n.SYMBOL&&c.id===r)try{return o(l)}catch(e){return}}}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(0),u=r(11),c=r(7),l=r(9),f=r(0),h=f.NODE_TYPES,d=f.DEBUG_NODE_TYPES,p=r(28),m=p.performDDL,y=p.VIEW_KEY,v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.providers={},this.schema=null,this.views=u.getItem(y)||{}}var t,r,f,p,v;return t=e,(r=[{key:"addProvider",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=Object.keys(this.providers).length;t=t||e.name||"SCHEMA_".concat(r+1),this.providers[t]=e,e.name=t,this.schema||(this.schema=e)}},{key:"run",value:(p=regeneratorRuntime.mark((function e(t){var r,a,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.call(this,t);case 2:if(!e.sent){e.next=5;break}return r=[],e.abrupt("return",r);case 5:if(!/^TRANSPOSE/.test(t)){e.next=10;break}return e.delegateYield(regeneratorRuntime.mark((function e(){var r,n,a,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.run(t.replace(/TRANSPOSE\s*/,""));case 2:if(r=e.sent,n=[],r.length>0)for(a=r[0],s=Array(r.length-1).fill(""),u=function(e){n.push([a[e]].concat(i(s.map((function(t,n){return r[n+1][e]})))))},c=0;c<a.length;c++)u(c);return e.abrupt("return",{v:n});case 6:case"end":return e.stop()}}),e)}))(),"t0",7);case 7:if("object"!==n(a=e.t0)){e.next=10;break}return e.abrupt("return",a.v);case 10:return e.abrupt("return",this.runSelect(t));case 11:case"end":return e.stop()}}),e,this)})),v=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=p.apply(e,t);function o(e){a(i,r,n,o,s,"next",e)}function s(e){a(i,r,n,o,s,"throw",e)}o(void 0)}))},function(e){return v.apply(this,arguments)})},{key:"runSelect",value:function(e,t){var r="string"==typeof e?s.parse(e):e;if(r.type===h.COMPOUND_QUERY)return l(this,r,t);if(r.type===h.STATEMENT)return c(this,r,null,t);throw new Error("Cannot evaluate node type ".concat(d[r.type]," as Query"))}},{key:"runQueries",value:function(e){var t=this;return Promise.all(e.map((function(e){return t.run(e)})))}}])&&o(t.prototype,r),f&&o(t,f),e}();e.exports=v},function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,u,"next",e)}function u(e){o(a,n,i,s,u,"throw",e)}s(void 0)}))}}e.exports=function(e,t){return A.apply(this,arguments)};var u=r(1).scalar,c=r(12),l=c.getRows,f=c.processColumns,h=c.populateValues,d=r(3).setTableAliases,p=r(5).filterRows,m=r(21),y=m.groupRows,v=m.populateAggregates,g=r(22).sortRows,b=r(14).explain,_=r(15).distinctResults,w=r(23).getCTEsMap,S=r(24),E=S.nodeToQueryObject,O=S.nodesToTables,T=S.getWindowsMap,D=r(25),M=r(26).applyLimit,R=r(27).getQueryContext;function A(){return(A=s(regeneratorRuntime.mark((function e(t,r){var n,a,o,s,c,m,S,A,x,N,k,Y,C,P,I,L,U,W,j,V=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=V.length>2&&void 0!==V[2]?V[2]:null,a=V.length>3&&void 0!==V[3]?V[3]:null,o=t.providers,s=t.views,c=Object.keys(o)[0],(m=o[c]||{}).name=c,S=[],A=function(e){return S.push(e)},void 0===(x=E(r)).explain||"AST"!==x.explain.id){e.next=14;break}return(N=i({},r)).source=N.source.replace("EXPLAIN AST ",""),N.children=N.children.filter((function(e){return"EXPLAIN"!==e.id})),e.abrupt("return",[["AST"],[JSON.stringify(N,null,4)]]);case 14:if(!x.values){e.next=16;break}return e.abrupt("return",D(x.values,a));case 16:if(k=x.select,Y=k,C=O(x.from),!x.with){e.next=25;break}return e.next=22,w(t,x.with);case 22:e.t0=e.sent,e.next=26;break;case 25:e.t0={};case 26:if(P=e.t0,I=x.window?T(x.window):{},L=R(t,{tables:C,clauses:x,windows:I,CTEs:P,schema:m,providers:o,views:s,outer:n,params:a}),U=L.evaluate,d(C),0!==C.length){e.next=35;break}W=[[]],e.next=38;break;case 35:return e.next=37,l(L);case 37:W=e.sent;case 38:if(void 0===x.explain){e.next=41;break}return j="ANALYSE"==x.explain.id,e.abrupt("return",b(C,j));case 41:return W=p(L,W,x.where),f(L,Y,W),e.next=45,h(L,L.cols,W);case 45:return x["group by"]&&(W=y(L,W,x["group by"])),W=v(L,L.cols,W,x["group by"]),x.having&&(W=p(L,W,x.having)),r.children.some((function(e){return"SELECT"===e.id&&e.distinct}))&&(W=_(W)),x["order by"]&&(W=g(U,W,x["order by"])),W=M(W,x.limit,x.offset,a),A(L.colHeaders),W.forEach((function(e){return A(e.map(u))})),e.abrupt("return",S);case 54:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.exports={findJoin:function(e,t,r){if(Array.isArray(t.join)){var n=!0,i=!1,a=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=c(o.value,t);if(null!=l)return!0}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}if(t.predicate)return!1}else if(t.join){var h=t.join,d=!0,p=!1,m=void 0;try{for(var y,v=r[Symbol.iterator]();!(d=(y=v.next()).done);d=!0){var g=y.value,b=f(e,g,h);if(void 0!==b)return t.join=b,!0}}catch(e){p=!0,m=e}finally{try{d||null==v.return||v.return()}finally{if(p)throw m}}}var _=t.name,w=t.name.toLowerCase(),S=!0,E=!1,O=void 0;try{for(var T,D=r[Symbol.iterator]();!(S=(T=D.next()).done);S=!0){var M=T.value,R=f(e,M,_);if(void 0!==R)return t.join=R,!0;var A=f(e,M,w);if(void 0!==A)return t.join=A,!0}}catch(e){E=!0,O=e}finally{try{S||null==D.return||D.return()}finally{if(E)throw O}}var x="".concat(_,"s"),N=!0,k=!1,Y=void 0;try{for(var C,P=r[Symbol.iterator]();!(N=(C=P.next()).done);N=!0){var I=C.value,L=f(e,I,x);if(void 0!==L){var U=c(I,L[0]),W=u(U,x);if(Array.isArray(W))return t.join=L,!0;throw new Error("Unable to join, found a plural but not an array: "+x)}}}catch(e){k=!0,Y=e}finally{try{N||null==P.return||P.return()}finally{if(k)throw Y}}return!1},applyJoin:function(e,t,r){var o=[],f=!1,h=!0,d=!1,p=void 0;try{for(var m,y=function(){var r=m.value;if(void 0===c(r,t)){if(!Array.isArray(t.join))throw Error("Join has not been prepared");var h=c(r,t.join[0]),d=u(h,t.join[1]);l(r,t,d)}var p=c(r,t);if(Array.isArray(p)){if(f=!0,!p||0===p.length)return t.inner||(r.ROWID+=".-1",l(r,t,null),o.push(r)),"continue";var y=0;p.forEach((function(u,c){var f=function(e){var t=a(e);return t.data=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.data),t}(r);l(f,t,u),Object.defineProperty(f,"ROWID",{value:"".concat(r.ROWID,".").concat(c),writable:!0}),t.predicate&&!s(e,f,t.predicate,o,!0)||(o.push(f),y++)})),0!==y||t.inner||(r.ROWID+=".-1",l(r,t,null),o.push(r))}else r.ROWID+=".0",o.push(r)},v=r[Symbol.iterator]();!(h=(m=v.next()).done);h=!0)y()}catch(e){d=!0,p=e}finally{try{h||null==v.return||v.return()}finally{if(d)throw p}}f&&(t.explain+=" one-to-many");return o},setJoin:function(e,t){e.join=[t,e.name]},setJoinPredicate:function(e,t){e.predicate=o(t)},getRowData:c,setRowData:l};var o=r(0).parseExpression,s=r(5).filterRow,u=r(3).resolvePath;function c(e,t){return e.data[t.symbol]}function l(e,t,r){e.data[t.symbol]=r}function f(e,t,r){var n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value,f=c(t,l);if(null!=f){if(void 0!==u(f,r))return[l,r];if(r.includes(".")){var h=r.substr(0,r.indexOf(".")),d=r.substr(r.indexOf(".")+1);if(h===l.alias){if(void 0!==u(f,d))return[l,d];throw Error("It looks like you tried to join on a table alias but the property wasn't found")}}}}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}},function(e,t,r){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){i(o,n,a,s,u,"next",e)}function u(e){i(o,n,a,s,u,"throw",e)}s(void 0)}))}}e.exports=f;var o=r(7),s=r(0),u=s.NODE_TYPES,c=s.DEBUG_NODE_TYPES,l=r(15).COMPOUND_OPERATORS;function f(e,t){return h.apply(this,arguments)}function h(){return(h=a(regeneratorRuntime.mark((function e(t,r){var i,a,s,h,d,p=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=p.length>2&&void 0!==p[2]?p[2]:null,r.type!==u.STATEMENT){e.next=3;break}return e.abrupt("return",o(t,r,null,i));case 3:if(r.type===u.COMPOUND_QUERY){e.next=5;break}throw new Error("Cannot evaluate node type ".concat(c[r.type]," as COMPOUND_QUERY"));case 5:return e.next=7,Promise.all(r.children.map((function(e){return f(t,e,i)})));case 7:return a=e.sent,s=n(a,2),h=s[0],d=s[1],e.abrupt("return",l[r.id](h,d));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t){e.exports={NODE_TYPES:{UNKNOWN:0,STATEMENT:1,CLAUSE:2,FUNCTION_CALL:3,SYMBOL:4,STRING:5,NUMBER:6,OPERATOR:7,LIST:8,COMPOUND_QUERY:9,CONSTANT:10,PARAM:11},TOKEN_TYPES:{UNKNOWN:0,BRACKET:1,COMMA:2,KEYWORD:3,NAME:4,STRING:5,NUMBER:6,OPERATOR:7,QUERY_OPERATOR:8,CONSTANT:9,PARAM:10}}},function(e,t,r){e.exports={getItem:function(e){return JSON.parse(localStorage.getItem(e))},setItem:function(e,t){return localStorage.setItem(e,JSON.stringify(t))}}},function(e,t,r){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}e.exports={getRows:function(e){return x.apply(this,arguments)},getPrimaryResults:N,processColumns:function(e,t,r){var n=e.tables,a=e.cols,o=e.colHeaders,u=e.colAlias,c=g(n),l=!0,f=!1,h=void 0;try{for(var d,m=t[Symbol.iterator]();!(l=(d=m.next()).done);l=!0){var y=d.value,v=String(y.id);if(y.type===s.SYMBOL&&v.endsWith("*")){if(0===r.length){a.push(y),o.push(y.id);continue}var b=v.substring(0,v.indexOf(".")),_=!0,S=!1,E=void 0;try{for(var O,T=function(){var e=O.value;if(void 0===e)return"continue";var t=void 0,u=!0,c=!1,l=void 0;try{for(var f,h=r[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=f.value;if(t=p(d,e))break}}catch(e){c=!0,l=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}if(!t)return""!=e.join&&(a.push(null),o.push("".concat(e.alias||e.name,".*"))),"continue";var m=Object.keys(t).filter((function(e){return void 0!==w(t[e])}));a.push.apply(a,i(m.map((function(t){return{type:s.SYMBOL,id:"".concat(e.alias,".").concat(t)}})))),n.length>1&&(m=m.map((function(t){return"".concat(e.alias||e.name,".").concat(t)}))),o.push.apply(o,i(m))},D=("*"===y.id?n:[c[b]])[Symbol.iterator]();!(_=(O=D.next()).done);_=!0)T()}catch(e){S=!0,E=e}finally{try{_||null==D.return||D.return()}finally{if(S)throw E}}}else if(a.push(y),o.push(y.alias||y.source||"Col ".concat(a.length)),y.alias&&void 0!==u[y.alias])throw new Error("Alias already in use: "+y.alias);o.forEach((function(e,t){void 0===u[e]&&(u[e]=t)}))}}catch(e){f=!0,h=e}finally{try{l||null==m.return||m.return()}finally{if(f)throw h}}},populateValues:function(e,t,r){return Y.apply(this,arguments)},populateValue:C};r(6);var s=r(0).NODE_TYPES,u=r(18).informationSchema,c=r(4).TABLE_VALUED_FUNCTIONS,l=r(8),f=l.findJoin,h=l.applyJoin,d=l.setRowData,p=l.getRowData,m=r(5).filterRows,y=r(14).setAnalysis,v=r(3),g=v.getTableAliasMap,b=v.PendingValue,_=r(1),w=_.scalar,S=_.queryResultToObjectArray,E=_.split,O=r(2),T=O.evaluateConstantExpression,D=O.SymbolError,M=O.isConstantExpression,R=r(7),A=r(9);function x(){return(x=o(regeneratorRuntime.mark((function e(t){var r,n,a,s,u,l,p,v,g,b,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.tables,n=t.where,a=t.query,s=a.schema.callbacks,l=!0,p=!1,v=void 0,e.prev=5,g=regeneratorRuntime.mark((function e(){var l,p,v,g,b,w,E,O,D,R,x,k,Y,C,P,I,L,U,W,j,V,F,G;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=_.value,p=Date.now(),v=void 0,u){e.next=14;break}return e.next=6,N(t,l);case 6:if(g=e.sent,v=Date.now()-p,g){e.next=10;break}throw Error("Couldn't get Primary Results");case 10:Array.isArray(g)||(g=[g]),u=g.map((function(e,t){var r=[];return r.data={},d(r,l,e),Object.defineProperty(r,"ROWID",{value:String(t),writable:!0}),r})),e.next=86;break;case 14:if(!s.beforeJoin){e.next=17;break}return e.next=17,s.beforeJoin.call(t,l,u);case 17:if(v=Date.now()-p,!(l.name in c)){e.next=31;break}if(b=c[l.name],w=l.params.every((function(e){return M(e)})),e.t0=w,!e.t0){e.next=26;break}return e.next=25,b.apply(void 0,i(l.params.map((function(e){return T(e,t.params)}))));case 25:e.t0=e.sent;case 26:return E=e.t0,e.next=29,Promise.all(u.map(function(){var e=o(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=E,e.t0){e.next=5;break}return e.next=4,b.apply(void 0,i(l.params.map((function(e){return t.evaluate(r,e,u)}))));case 4:e.t0=e.sent;case 5:n=e.t0,d(r,l,n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 29:e.next=85;break;case 31:if(!l.subquery){e.next=60;break}return e.t1=S,e.next=35,A(a,l.subquery);case 35:for(e.t2=e.sent,e.t3=l.subquery.headers,O=(0,e.t1)(e.t2,e.t3),l.explain+=" cross-join",D=!0,R=!1,x=void 0,e.prev=42,k=u[Symbol.iterator]();!(D=(Y=k.next()).done);D=!0)C=Y.value,d(C,l,O);e.next=50;break;case 46:e.prev=46,e.t4=e.catch(42),R=!0,x=e.t4;case 50:e.prev=50,e.prev=51,D||null==k.return||k.return();case 53:if(e.prev=53,!R){e.next=56;break}throw x;case 56:return e.finish(53);case 57:return e.finish(50);case 58:e.next=85;break;case 60:if(f(r,l,u)){e.next=85;break}return e.next=64,N(t,l);case 64:for(P=e.sent,l.explain+=" cross-join",I=!0,L=!1,U=void 0,e.prev=69,W=u[Symbol.iterator]();!(I=(j=W.next()).done);I=!0)V=j.value,d(V,l,P);e.next=77;break;case 73:e.prev=73,e.t5=e.catch(69),L=!0,U=e.t5;case 77:e.prev=77,e.prev=78,I||null==W.return||W.return();case 80:if(e.prev=80,!L){e.next=83;break}throw U;case 83:return e.finish(80);case 84:return e.finish(77);case 85:u=h(t,l,u);case 86:if(F=u.length,u=m(t,u,n,!1),l.rowCount=u.length,!s.afterJoin){e.next=92;break}return e.next=92,s.afterJoin.call(t,l,u);case 92:G=Date.now()-p,y(l,v,G,F,u.length);case 94:case"end":return e.stop()}}),e,null,[[42,46,50,58],[51,,53,57],[69,73,77,85],[78,,80,84]])})),b=r[Symbol.iterator]();case 8:if(l=(_=b.next()).done){e.next=13;break}return e.delegateYield(g(),"t0",10);case 10:l=!0,e.next=8;break;case 13:e.next=19;break;case 15:e.prev=15,e.t1=e.catch(5),p=!0,v=e.t1;case 19:e.prev=19,e.prev=20,l||null==b.return||b.return();case 22:if(e.prev=22,!p){e.next=25;break}throw v;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return e.abrupt("return",u);case 28:case"end":return e.stop()}}),e,null,[[5,15,19,27],[20,,22,26]])})))).apply(this,arguments)}function N(e,t){return k.apply(this,arguments)}function k(){return(k=o(regeneratorRuntime.mark((function e(t,r){var a,o,s,l,f,h,d,p,m,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.views,o=t.CTEs,s=t.query,l=t.params,h=r.name,r.name.includes(".")&&(d=E(r.name,".",2),p=n(d,2),f=p[0],h=p[1]),!r.subquery){e.next=10;break}return e.t0=S,e.next=7,A(s,r.subquery,l);case 7:return e.t1=e.sent,e.t2=r.subquery.headers,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 10:if(!(r.name in o)){e.next=12;break}return e.abrupt("return",o[r.name]);case 12:if(!(r.name in a)){e.next=19;break}return e.t3=S,e.next=16,t.query.run(a[r.name]);case 16:return e.t4=e.sent,e.t5=r.headers,e.abrupt("return",(0,e.t3)(e.t4,e.t5));case 19:if("information_schema"!==f){e.next=21;break}return e.abrupt("return",u(t,h));case 21:if(!(r.name in c)){e.next=23;break}return e.abrupt("return",c[r.name].apply(c,i(r.params.map((function(e){return T(e,t.params)})))));case 23:if(m=t.providers[f]||t.schema,void 0!==(y=m.callbacks).primaryTable){e.next=26;break}throw new Error("PrimaryTable callback not defined");case 26:return r.name=h,e.abrupt("return",y.primaryTable.call(t,r)||[]);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=o(regeneratorRuntime.mark((function e(t,r,i){var a,o,s,u,c,l,f,h,d,p,m,y,v,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=!0,o=!1,s=void 0,e.prev=3,u=i[Symbol.iterator]();case 5:if(a=(c=u.next()).done){e.next=36;break}l=c.value,f=!0,h=!1,d=void 0,e.prev=10,p=r.entries()[Symbol.iterator]();case 12:if(f=(m=p.next()).done){e.next=19;break}return y=n(m.value,2),v=y[0],g=y[1],e.next=16,C(t,l,v,g,i);case 16:f=!0,e.next=12;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(10),h=!0,d=e.t0;case 25:e.prev=25,e.prev=26,f||null==p.return||p.return();case 28:if(e.prev=28,!h){e.next=31;break}throw d;case 31:return e.finish(28);case 32:return e.finish(25);case 33:a=!0,e.next=5;break;case 36:e.next=42;break;case 38:e.prev=38,e.t1=e.catch(3),o=!0,s=e.t1;case 42:e.prev=42,e.prev=43,a||null==u.return||u.return();case 45:if(e.prev=45,!o){e.next=48;break}throw s;case 48:return e.finish(45);case 49:return e.finish(42);case 50:case"end":return e.stop()}}),e,null,[[3,38,42,50],[10,21,25,33],[26,,28,32],[43,,45,49]])})))).apply(this,arguments)}function C(e,t,r,n,i){return P.apply(this,arguments)}function P(){return(P=o(regeneratorRuntime.mark((function e(t,r,n,i,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r[n]||r[n]===b){e.next=2;break}return e.abrupt("return");case 2:if(null!==i){e.next=5;break}return r[n]=null,e.abrupt("return");case 5:if("ROWID"!==i.id){e.next=8;break}return r[n]=r.ROWID,e.abrupt("return");case 8:if(i.type!==s.STATEMENT){e.next=14;break}return e.next=11,R(t.query,i,{context:t,row:r,rows:a});case 11:return(o=e.sent)&&o.length>=2?r[n]=o[1][0]:r[n]=null,e.abrupt("return");case 14:e.prev=14,r[n]=b,r[n]=t.evaluate(r,i,a),e.next=26;break;case 19:if(e.prev=19,e.t0=e.catch(14),!(e.t0 instanceof D)){e.next=25;break}r[n]=null,e.next=26;break;case 25:throw e.t0;case 26:case"end":return e.stop()}}),e,null,[[14,19]])})))).apply(this,arguments)}},function(e,t,r){(function(e){e.exports=function(){"use strict";var t,r;function n(){return t.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function s(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){var r,n=[];for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var r in t)l(t,r)&&(e[r]=t[r]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,r,n){return Et(e,t,r,n,!0).utc()}function d(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function p(e){if(null==e._isValid){var t=d(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function m(e){var t=h(NaN);return null!=e?f(d(t),e):d(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),r=t.length>>>0,n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var y=n.momentProperties=[];function v(e,t){var r,n,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=d(t)),o(t._locale)||(e._locale=t._locale),y.length>0)for(r=0;r<y.length;r++)o(i=t[n=y[r]])||(e[n]=i);return e}var g=!1;function b(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===g&&(g=!0,n.updateOffset(this),g=!1)}function _(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function S(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=w(t)),r}function E(e,t,r){var n,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(n=0;n<i;n++)(r&&e[n]!==t[n]||!r&&S(e[n])!==S(t[n]))&&o++;return o+a}function O(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,t){var r=!0;return f((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){for(var i,a=[],o=0;o<arguments.length;o++){if(i="","object"==typeof arguments[o]){for(var s in i+="\n["+o+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[o];a.push(i)}O(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var D,M={};function R(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),M[e]||(O(t),M[e]=!0)}function A(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function x(e,t){var r,n=f({},e);for(r in t)l(t,r)&&(a(e[r])&&a(t[r])?(n[r]={},f(n[r],e[r]),f(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)l(e,r)&&!l(t,r)&&a(e[r])&&(n[r]=f({},n[r]));return n}function N(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,D=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)l(e,t)&&r.push(t);return r};var k={};function Y(e,t){var r=e.toLowerCase();k[r]=k[r+"s"]=k[t]=e}function C(e){return"string"==typeof e?k[e]||k[e.toLowerCase()]:void 0}function P(e){var t,r,n={};for(r in e)l(e,r)&&(t=C(r))&&(n[t]=e[r]);return n}var I={};function L(e,t){I[e]=t}function U(e,t,r){var n=""+Math.abs(e),i=t-n.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var W=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,V={},F={};function G(e,t,r,n){var i=n;"string"==typeof n&&(i=function(){return this[n]()}),e&&(F[e]=i),t&&(F[t[0]]=function(){return U(i.apply(this,arguments),t[1],t[2])}),r&&(F[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function H(e,t){return e.isValid()?(t=B(t,e.localeData()),V[t]=V[t]||function(e){var t,r,n,i=e.match(W);for(t=0,r=i.length;t<r;t++)F[i[t]]?i[t]=F[i[t]]:i[t]=(n=i[t]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(t){var n,a="";for(n=0;n<r;n++)a+=A(i[n])?i[n].call(t,e):i[n];return a}}(t),V[t](e)):e.localeData().invalidDate()}function B(e,t){var r=5;function n(e){return t.longDateFormat(e)||e}for(j.lastIndex=0;r>=0&&j.test(e);)e=e.replace(j,n),j.lastIndex=0,r-=1;return e}var K=/\d/,z=/\d\d/,Z=/\d{3}/,q=/\d{4}/,J=/[+-]?\d{6}/,Q=/\d\d?/,X=/\d\d\d\d?/,$=/\d\d\d\d\d\d?/,ee=/\d{1,3}/,te=/\d{1,4}/,re=/[+-]?\d{1,6}/,ne=/\d+/,ie=/[+-]?\d+/,ae=/Z|[+-]\d\d:?\d\d/gi,oe=/Z|[+-]\d\d(?::?\d\d)?/gi,se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ue={};function ce(e,t,r){ue[e]=A(t)?t:function(e,n){return e&&r?r:t}}function le(e,t){return l(ue,e)?ue[e](t._strict,t._locale):new RegExp(fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,r,n,i){return t||r||n||i}))))}function fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var he={};function de(e,t){var r,n=t;for("string"==typeof e&&(e=[e]),s(t)&&(n=function(e,r){r[t]=S(e)}),r=0;r<e.length;r++)he[e[r]]=n}function pe(e,t){de(e,(function(e,r,n,i){n._w=n._w||{},t(e,n._w,n,i)}))}function me(e,t,r){null!=t&&l(he,e)&&he[e](t,r._a,r,e)}function ye(e){return ve(e)?366:365}function ve(e){return e%4==0&&e%100!=0||e%400==0}G("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),G(0,["YY",2],0,(function(){return this.year()%100})),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),Y("year","y"),L("year",1),ce("Y",ie),ce("YY",Q,z),ce("YYYY",te,q),ce("YYYYY",re,J),ce("YYYYYY",re,J),de(["YYYYY","YYYYYY"],0),de("YYYY",(function(e,t){t[0]=2===e.length?n.parseTwoDigitYear(e):S(e)})),de("YY",(function(e,t){t[0]=n.parseTwoDigitYear(e)})),de("Y",(function(e,t){t[0]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)};var ge,be=_e("FullYear",!0);function _e(e,t){return function(r){return null!=r?(Se(this,e,r),n.updateOffset(this,t),this):we(this,e)}}function we(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Se(e,t,r){e.isValid()&&!isNaN(r)&&("FullYear"===t&&ve(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),Ee(r,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function Ee(e,t){if(isNaN(e)||isNaN(t))return NaN;var r,n=(t%(r=12)+r)%r;return e+=(t-n)/12,1===n?ve(e)?29:28:31-n%7%2}ge=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},G("M",["MM",2],"Mo",(function(){return this.month()+1})),G("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),G("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Y("month","M"),L("month",8),ce("M",Q),ce("MM",Q,z),ce("MMM",(function(e,t){return t.monthsShortRegex(e)})),ce("MMMM",(function(e,t){return t.monthsRegex(e)})),de(["M","MM"],(function(e,t){t[1]=S(e)-1})),de(["MMM","MMMM"],(function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);null!=i?t[1]=i:d(r).invalidMonth=e}));var Oe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Te="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),De="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Me(e,t,r){var n,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=h([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(i=ge.call(this._shortMonthsParse,o))?i:null:-1!==(i=ge.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=ge.call(this._shortMonthsParse,o))?i:-1!==(i=ge.call(this._longMonthsParse,o))?i:null:-1!==(i=ge.call(this._longMonthsParse,o))?i:-1!==(i=ge.call(this._shortMonthsParse,o))?i:null}function Re(e,t){var r;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=S(t);else if(!s(t=e.localeData().monthsParse(t)))return e;return r=Math.min(e.date(),Ee(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function Ae(e){return null!=e?(Re(this,e),n.updateOffset(this,!0),this):we(this,"Month")}var xe=se,Ne=se;function ke(){function e(e,t){return t.length-e.length}var t,r,n=[],i=[],a=[];for(t=0;t<12;t++)r=h([2e3,t]),n.push(this.monthsShort(r,"")),i.push(this.months(r,"")),a.push(this.months(r,"")),a.push(this.monthsShort(r,""));for(n.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)n[t]=fe(n[t]),i[t]=fe(i[t]);for(t=0;t<24;t++)a[t]=fe(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ye(e,t,r,n,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,r,n,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,r,n,i,a,o),s}function Ce(e){var t;if(e<100&&e>=0){var r=Array.prototype.slice.call(arguments);r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Pe(e,t,r){var n=7+t-r;return-(7+Ce(e,0,n).getUTCDay()-t)%7+n-1}function Ie(e,t,r,n,i){var a,o,s=1+7*(t-1)+(7+r-n)%7+Pe(e,n,i);return s<=0?o=ye(a=e-1)+s:s>ye(e)?(a=e+1,o=s-ye(e)):(a=e,o=s),{year:a,dayOfYear:o}}function Le(e,t,r){var n,i,a=Pe(e.year(),t,r),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?n=o+Ue(i=e.year()-1,t,r):o>Ue(e.year(),t,r)?(n=o-Ue(e.year(),t,r),i=e.year()+1):(i=e.year(),n=o),{week:n,year:i}}function Ue(e,t,r){var n=Pe(e,t,r),i=Pe(e+1,t,r);return(ye(e)-n+i)/7}function We(e,t){return e.slice(t,7).concat(e.slice(0,t))}G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),Y("week","w"),Y("isoWeek","W"),L("week",5),L("isoWeek",5),ce("w",Q),ce("ww",Q,z),ce("W",Q),ce("WW",Q,z),pe(["w","ww","W","WW"],(function(e,t,r,n){t[n.substr(0,1)]=S(e)})),G("d",0,"do","day"),G("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),G("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),G("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),Y("day","d"),Y("weekday","e"),Y("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),ce("d",Q),ce("e",Q),ce("E",Q),ce("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ce("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ce("dddd",(function(e,t){return t.weekdaysRegex(e)})),pe(["dd","ddd","dddd"],(function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);null!=i?t.d=i:d(r).invalidWeekday=e})),pe(["d","e","E"],(function(e,t,r,n){t[n]=S(e)}));var je="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ve="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Fe="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Ge(e,t,r){var n,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=h([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(i=ge.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=ge.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=ge.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=ge.call(this._weekdaysParse,o))?i:-1!==(i=ge.call(this._shortWeekdaysParse,o))?i:-1!==(i=ge.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=ge.call(this._shortWeekdaysParse,o))?i:-1!==(i=ge.call(this._weekdaysParse,o))?i:-1!==(i=ge.call(this._minWeekdaysParse,o))?i:null:-1!==(i=ge.call(this._minWeekdaysParse,o))?i:-1!==(i=ge.call(this._weekdaysParse,o))?i:-1!==(i=ge.call(this._shortWeekdaysParse,o))?i:null}var He=se,Be=se,Ke=se;function ze(){function e(e,t){return t.length-e.length}var t,r,n,i,a,o=[],s=[],u=[],c=[];for(t=0;t<7;t++)r=h([2e3,1]).day(t),n=this.weekdaysMin(r,""),i=this.weekdaysShort(r,""),a=this.weekdays(r,""),o.push(n),s.push(i),u.push(a),c.push(n),c.push(i),c.push(a);for(o.sort(e),s.sort(e),u.sort(e),c.sort(e),t=0;t<7;t++)s[t]=fe(s[t]),u[t]=fe(u[t]),c[t]=fe(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Ze(){return this.hours()%12||12}function qe(e,t){G(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Je(e,t){return t._meridiemParse}G("H",["HH",2],0,"hour"),G("h",["hh",2],0,Ze),G("k",["kk",2],0,(function(){return this.hours()||24})),G("hmm",0,0,(function(){return""+Ze.apply(this)+U(this.minutes(),2)})),G("hmmss",0,0,(function(){return""+Ze.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)})),G("Hmm",0,0,(function(){return""+this.hours()+U(this.minutes(),2)})),G("Hmmss",0,0,(function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)})),qe("a",!0),qe("A",!1),Y("hour","h"),L("hour",13),ce("a",Je),ce("A",Je),ce("H",Q),ce("h",Q),ce("k",Q),ce("HH",Q,z),ce("hh",Q,z),ce("kk",Q,z),ce("hmm",X),ce("hmmss",$),ce("Hmm",X),ce("Hmmss",$),de(["H","HH"],3),de(["k","kk"],(function(e,t,r){var n=S(e);t[3]=24===n?0:n})),de(["a","A"],(function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e})),de(["h","hh"],(function(e,t,r){t[3]=S(e),d(r).bigHour=!0})),de("hmm",(function(e,t,r){var n=e.length-2;t[3]=S(e.substr(0,n)),t[4]=S(e.substr(n)),d(r).bigHour=!0})),de("hmmss",(function(e,t,r){var n=e.length-4,i=e.length-2;t[3]=S(e.substr(0,n)),t[4]=S(e.substr(n,2)),t[5]=S(e.substr(i)),d(r).bigHour=!0})),de("Hmm",(function(e,t,r){var n=e.length-2;t[3]=S(e.substr(0,n)),t[4]=S(e.substr(n))})),de("Hmmss",(function(e,t,r){var n=e.length-4,i=e.length-2;t[3]=S(e.substr(0,n)),t[4]=S(e.substr(n,2)),t[5]=S(e.substr(i))}));var Qe,Xe=_e("Hours",!0),$e={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Te,monthsShort:De,week:{dow:0,doy:6},weekdays:je,weekdaysMin:Fe,weekdaysShort:Ve,meridiemParse:/[ap]\.?m?\.?/i},et={},tt={};function rt(e){return e?e.toLowerCase().replace("_","-"):e}function nt(t){var r=null;if(!et[t]&&void 0!==e&&e&&e.exports)try{r=Qe._abbr,!function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),it(r)}catch(e){}return et[t]}function it(e,t){var r;return e&&((r=o(t)?ot(e):at(e,t))?Qe=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Qe._abbr}function at(e,t){if(null!==t){var r,n=$e;if(t.abbr=e,null!=et[e])R("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=et[e]._config;else if(null!=t.parentLocale)if(null!=et[t.parentLocale])n=et[t.parentLocale]._config;else{if(null==(r=nt(t.parentLocale)))return tt[t.parentLocale]||(tt[t.parentLocale]=[]),tt[t.parentLocale].push({name:e,config:t}),null;n=r._config}return et[e]=new N(x(n,t)),tt[e]&&tt[e].forEach((function(e){at(e.name,e.config)})),it(e),et[e]}return delete et[e],null}function ot(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Qe;if(!i(e)){if(t=nt(e))return t;e=[e]}return function(e){for(var t,r,n,i,a=0;a<e.length;){for(t=(i=rt(e[a]).split("-")).length,r=(r=rt(e[a+1]))?r.split("-"):null;t>0;){if(n=nt(i.slice(0,t).join("-")))return n;if(r&&r.length>=t&&E(i,r,!0)>=t-1)break;t--}a++}return Qe}(e)}function st(e){var t,r=e._a;return r&&-2===d(e).overflow&&(t=r[1]<0||r[1]>11?1:r[2]<1||r[2]>Ee(r[0],r[1])?2:r[3]<0||r[3]>24||24===r[3]&&(0!==r[4]||0!==r[5]||0!==r[6])?3:r[4]<0||r[4]>59?4:r[5]<0||r[5]>59?5:r[6]<0||r[6]>999?6:-1,d(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),d(e)._overflowWeeks&&-1===t&&(t=7),d(e)._overflowWeekday&&-1===t&&(t=8),d(e).overflow=t),e}function ut(e,t,r){return null!=e?e:null!=t?t:r}function ct(e){var t,r,i,a,o,s=[];if(!e._d){for(i=function(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,r,n,i,a,o,s,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)a=1,o=4,r=ut(t.GG,e._a[0],Le(Ot(),1,4).year),n=ut(t.W,1),((i=ut(t.E,1))<1||i>7)&&(u=!0);else{a=e._locale._week.dow,o=e._locale._week.doy;var c=Le(Ot(),a,o);r=ut(t.gg,e._a[0],c.year),n=ut(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a}n<1||n>Ue(r,a,o)?d(e)._overflowWeeks=!0:null!=u?d(e)._overflowWeekday=!0:(s=Ie(r,n,i,a,o),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=ut(e._a[0],i[0]),(e._dayOfYear>ye(o)||0===e._dayOfYear)&&(d(e)._overflowDayOfYear=!0),r=Ce(o,0,e._dayOfYear),e._a[1]=r.getUTCMonth(),e._a[2]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Ce:Ye).apply(null,s),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==a&&(d(e).weekdayMismatch=!0)}}var lt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ft=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/Z|[+-]\d\d(?::?\d\d)?/,dt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],pt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mt=/^\/?Date\((\-?\d+)/i;function yt(e){var t,r,n,i,a,o,s=e._i,u=lt.exec(s)||ft.exec(s);if(u){for(d(e).iso=!0,t=0,r=dt.length;t<r;t++)if(dt[t][1].exec(u[1])){i=dt[t][0],n=!1!==dt[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,r=pt.length;t<r;t++)if(pt[t][1].exec(u[3])){a=(u[2]||" ")+pt[t][0];break}if(null==a)return void(e._isValid=!1)}if(!n&&null!=a)return void(e._isValid=!1);if(u[4]){if(!ht.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),wt(e)}else e._isValid=!1}var vt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function gt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var bt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function _t(e){var t,r,n,i,a,o,s,u=vt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(u){var c=(t=u[4],r=u[3],n=u[2],i=u[5],a=u[6],o=u[7],s=[gt(t),De.indexOf(r),parseInt(n,10),parseInt(i,10),parseInt(a,10)],o&&s.push(parseInt(o,10)),s);if(!function(e,t,r){return!e||Ve.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(d(r).weekdayMismatch=!0,r._isValid=!1,!1)}(u[1],c,e))return;e._a=c,e._tzm=function(e,t,r){if(e)return bt[e];if(t)return 0;var n=parseInt(r,10),i=n%100;return(n-i)/100*60+i}(u[8],u[9],u[10]),e._d=Ce.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),d(e).rfc2822=!0}else e._isValid=!1}function wt(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],d(e).empty=!0;var t,r,i,a,o,s=""+e._i,u=s.length,c=0;for(i=B(e._f,e._locale).match(W)||[],t=0;t<i.length;t++)a=i[t],(r=(s.match(le(a,e))||[])[0])&&((o=s.substr(0,s.indexOf(r))).length>0&&d(e).unusedInput.push(o),s=s.slice(s.indexOf(r)+r.length),c+=r.length),F[a]?(r?d(e).empty=!1:d(e).unusedTokens.push(a),me(a,r,e)):e._strict&&!r&&d(e).unusedTokens.push(a);d(e).charsLeftOver=u-c,s.length>0&&d(e).unusedInput.push(s),e._a[3]<=12&&!0===d(e).bigHour&&e._a[3]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[3]=function(e,t,r){var n;return null==r?t:null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?((n=e.isPM(r))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),ct(e),st(e)}else _t(e);else yt(e)}function St(e){var t=e._i,r=e._f;return e._locale=e._locale||ot(e._l),null===t||void 0===r&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new b(st(t)):(u(t)?e._d=t:i(r)?function(e){var t,r,n,i,a;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)a=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],wt(t),p(t)&&(a+=d(t).charsLeftOver,a+=10*d(t).unusedTokens.length,d(t).score=a,(null==n||a<n)&&(n=a,r=t));f(e,r||t)}(e):r?wt(e):function(e){var t=e._i;o(t)?e._d=new Date(n.now()):u(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=mt.exec(e._i);null===t?(yt(e),!1===e._isValid&&(delete e._isValid,_t(e),!1===e._isValid&&(delete e._isValid,n.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):i(t)?(e._a=c(t.slice(0),(function(e){return parseInt(e,10)})),ct(e)):a(t)?function(e){if(!e._d){var t=P(e._i);e._a=c([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),ct(e)}}(e):s(t)?e._d=new Date(t):n.createFromInputFallback(e)}(e),p(e)||(e._d=null),e))}function Et(e,t,r,n,o){var s,u={};return!0!==r&&!1!==r||(n=r,r=void 0),(a(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||i(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=r,u._i=e,u._f=t,u._strict=n,(s=new b(st(St(u))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Ot(e,t,r,n){return Et(e,t,r,n,!1)}n.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Tt=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),Dt=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}));function Mt(e,t){var r,n;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Ot();for(r=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r}var Rt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function At(e){var t=P(e),r=t.year||0,n=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===ge.call(Rt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var r=!1,n=0;n<Rt.length;++n)if(e[Rt[n]]){if(r)return!1;parseFloat(e[Rt[n]])!==S(e[Rt[n]])&&(r=!0)}return!0}(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*n+12*r,this._data={},this._locale=ot(),this._bubble()}function xt(e){return e instanceof At}function Nt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function kt(e,t){G(e,0,0,(function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+U(~~(e/60),2)+t+U(~~e%60,2)}))}kt("Z",":"),kt("ZZ",""),ce("Z",oe),ce("ZZ",oe),de(["Z","ZZ"],(function(e,t,r){r._useUTC=!0,r._tzm=Ct(oe,e)}));var Yt=/([\+\-]|\d\d)/gi;function Ct(e,t){var r=(t||"").match(e);if(null===r)return null;var n=((r[r.length-1]||[])+"").match(Yt)||["-",0,0],i=60*n[1]+S(n[2]);return 0===i?0:"+"===n[0]?i:-i}function Pt(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(_(e)||u(e)?e.valueOf():Ot(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):Ot(e).local()}function It(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Lt(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Ut=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Wt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function jt(e,t){var r,n,i,a,o,u,c=e,f=null;return xt(e)?c={ms:e._milliseconds,d:e._days,M:e._months}:s(e)?(c={},t?c[t]=e:c.milliseconds=e):(f=Ut.exec(e))?(r="-"===f[1]?-1:1,c={y:0,d:S(f[2])*r,h:S(f[3])*r,m:S(f[4])*r,s:S(f[5])*r,ms:S(Nt(1e3*f[6]))*r}):(f=Wt.exec(e))?(r="-"===f[1]?-1:1,c={y:Vt(f[2],r),M:Vt(f[3],r),w:Vt(f[4],r),d:Vt(f[5],r),h:Vt(f[6],r),m:Vt(f[7],r),s:Vt(f[8],r)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(a=Ot(c.from),o=Ot(c.to),i=a.isValid()&&o.isValid()?(o=Pt(o,a),a.isBefore(o)?u=Ft(a,o):((u=Ft(o,a)).milliseconds=-u.milliseconds,u.months=-u.months),u):{milliseconds:0,months:0},(c={}).ms=i.milliseconds,c.M=i.months),n=new At(c),xt(e)&&l(e,"_locale")&&(n._locale=e._locale),n}function Vt(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function Ft(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Gt(e,t){return function(r,n){var i;return null===n||isNaN(+n)||(R(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),Ht(this,jt(r="string"==typeof r?+r:r,n),e),this}}function Ht(e,t,r,i){var a=t._milliseconds,o=Nt(t._days),s=Nt(t._months);e.isValid()&&(i=null==i||i,s&&Re(e,we(e,"Month")+s*r),o&&Se(e,"Date",we(e,"Date")+o*r),a&&e._d.setTime(e._d.valueOf()+a*r),i&&n.updateOffset(e,o||s))}jt.fn=At.prototype,jt.invalid=function(){return jt(NaN)};var Bt=Gt(1,"add"),Kt=Gt(-1,"subtract");function zt(e,t){var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months");return-(r+(t-n<0?(t-n)/(n-e.clone().add(r-1,"months")):(t-n)/(e.clone().add(r+1,"months")-n)))||0}function Zt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ot(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var qt=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function Jt(){return this._locale}function Qt(e,t){return(e%t+t)%t}function Xt(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-126227808e5:new Date(e,t,r).valueOf()}function $t(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-126227808e5:Date.UTC(e,t,r)}function er(e,t){G(0,[e,e.length],0,t)}function tr(e,t,r,n,i){var a;return null==e?Le(this,n,i).year:(t>(a=Ue(e,n,i))&&(t=a),rr.call(this,e,t,r,n,i))}function rr(e,t,r,n,i){var a=Ie(e,t,r,n,i),o=Ce(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}G(0,["gg",2],0,(function(){return this.weekYear()%100})),G(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),er("gggg","weekYear"),er("ggggg","weekYear"),er("GGGG","isoWeekYear"),er("GGGGG","isoWeekYear"),Y("weekYear","gg"),Y("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),ce("G",ie),ce("g",ie),ce("GG",Q,z),ce("gg",Q,z),ce("GGGG",te,q),ce("gggg",te,q),ce("GGGGG",re,J),ce("ggggg",re,J),pe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,r,n){t[n.substr(0,2)]=S(e)})),pe(["gg","GG"],(function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)})),G("Q",0,"Qo","quarter"),Y("quarter","Q"),L("quarter",7),ce("Q",K),de("Q",(function(e,t){t[1]=3*(S(e)-1)})),G("D",["DD",2],"Do","date"),Y("date","D"),L("date",9),ce("D",Q),ce("DD",Q,z),ce("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),de(["D","DD"],2),de("Do",(function(e,t){t[2]=S(e.match(Q)[0])}));var nr=_e("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear"),Y("dayOfYear","DDD"),L("dayOfYear",4),ce("DDD",ee),ce("DDDD",Z),de(["DDD","DDDD"],(function(e,t,r){r._dayOfYear=S(e)})),G("m",["mm",2],0,"minute"),Y("minute","m"),L("minute",14),ce("m",Q),ce("mm",Q,z),de(["m","mm"],4);var ir=_e("Minutes",!1);G("s",["ss",2],0,"second"),Y("second","s"),L("second",15),ce("s",Q),ce("ss",Q,z),de(["s","ss"],5);var ar,or=_e("Seconds",!1);for(G("S",0,0,(function(){return~~(this.millisecond()/100)})),G(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),G(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),G(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),G(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),G(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),G(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Y("millisecond","ms"),L("millisecond",16),ce("S",ee,K),ce("SS",ee,z),ce("SSS",ee,Z),ar="SSSS";ar.length<=9;ar+="S")ce(ar,ne);function sr(e,t){t[6]=S(1e3*("0."+e))}for(ar="S";ar.length<=9;ar+="S")de(ar,sr);var ur=_e("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var cr=b.prototype;function lr(e){return e}cr.add=Bt,cr.calendar=function(e,t){var r=e||Ot(),i=Pt(r,this).startOf("day"),a=n.calendarFormat(this,i)||"sameElse",o=t&&(A(t[a])?t[a].call(this,r):t[a]);return this.format(o||this.localeData().calendar(a,this,Ot(r)))},cr.clone=function(){return new b(this)},cr.diff=function(e,t,r){var n,i,a;if(!this.isValid())return NaN;if(!(n=Pt(e,this)).isValid())return NaN;switch(i=6e4*(n.utcOffset()-this.utcOffset()),t=C(t)){case"year":a=zt(this,n)/12;break;case"month":a=zt(this,n);break;case"quarter":a=zt(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-i)/864e5;break;case"week":a=(this-n-i)/6048e5;break;default:a=this-n}return r?a:w(a)},cr.endOf=function(e){var t;if(void 0===(e=C(e))||"millisecond"===e||!this.isValid())return this;var r=this._isUTC?$t:Xt;switch(e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-Qt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-Qt(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-Qt(t,1e3)-1}return this._d.setTime(t),n.updateOffset(this,!0),this},cr.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=H(this,e);return this.localeData().postformat(t)},cr.from=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Ot(e).isValid())?jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},cr.fromNow=function(e){return this.from(Ot(),e)},cr.to=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Ot(e).isValid())?jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},cr.toNow=function(e){return this.to(Ot(),e)},cr.get=function(e){return A(this[e=C(e)])?this[e]():this},cr.invalidAt=function(){return d(this).overflow},cr.isAfter=function(e,t){var r=_(e)?e:Ot(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=C(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},cr.isBefore=function(e,t){var r=_(e)?e:Ot(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=C(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},cr.isBetween=function(e,t,r,n){var i=_(e)?e:Ot(e),a=_(t)?t:Ot(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(n=n||"()")[0]?this.isAfter(i,r):!this.isBefore(i,r))&&(")"===n[1]?this.isBefore(a,r):!this.isAfter(a,r))},cr.isSame=function(e,t){var r,n=_(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=C(t)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},cr.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},cr.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},cr.isValid=function(){return p(this)},cr.lang=qt,cr.locale=Zt,cr.localeData=Jt,cr.max=Dt,cr.min=Tt,cr.parsingFlags=function(){return f({},d(this))},cr.set=function(e,t){if("object"==typeof e)for(var r=function(e){var t=[];for(var r in e)t.push({unit:r,priority:I[r]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=P(e)),n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit]);else if(A(this[e=C(e)]))return this[e](t);return this},cr.startOf=function(e){var t;if(void 0===(e=C(e))||"millisecond"===e||!this.isValid())return this;var r=this._isUTC?$t:Xt;switch(e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Qt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=Qt(t,6e4);break;case"second":t=this._d.valueOf(),t-=Qt(t,1e3)}return this._d.setTime(t),n.updateOffset(this,!0),this},cr.subtract=Kt,cr.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},cr.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},cr.toDate=function(){return new Date(this.valueOf())},cr.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?H(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(r,"Z")):H(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},cr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(r+n+"-MM-DD[T]HH:mm:ss.SSS"+i)},cr.toJSON=function(){return this.isValid()?this.toISOString():null},cr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},cr.unix=function(){return Math.floor(this.valueOf()/1e3)},cr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},cr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},cr.year=be,cr.isLeapYear=function(){return ve(this.year())},cr.weekYear=function(e){return tr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},cr.isoWeekYear=function(e){return tr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},cr.quarter=cr.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},cr.month=Ae,cr.daysInMonth=function(){return Ee(this.year(),this.month())},cr.week=cr.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},cr.isoWeek=cr.isoWeeks=function(e){var t=Le(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},cr.weeksInYear=function(){var e=this.localeData()._week;return Ue(this.year(),e.dow,e.doy)},cr.isoWeeksInYear=function(){return Ue(this.year(),1,4)},cr.date=nr,cr.day=cr.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},cr.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},cr.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},cr.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},cr.hour=cr.hours=Xe,cr.minute=cr.minutes=ir,cr.second=cr.seconds=or,cr.millisecond=cr.milliseconds=ur,cr.utcOffset=function(e,t,r){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ct(oe,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(i=It(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Ht(this,jt(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:It(this)},cr.utc=function(e){return this.utcOffset(0,e)},cr.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(It(this),"m")),this},cr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ct(ae,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},cr.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ot(e).utcOffset():0,(this.utcOffset()-e)%60==0)},cr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},cr.isLocal=function(){return!!this.isValid()&&!this._isUTC},cr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},cr.isUtc=Lt,cr.isUTC=Lt,cr.zoneAbbr=function(){return this._isUTC?"UTC":""},cr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},cr.dates=T("dates accessor is deprecated. Use date instead.",nr),cr.months=T("months accessor is deprecated. Use month instead",Ae),cr.years=T("years accessor is deprecated. Use year instead",be),cr.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),cr.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),(e=St(e))._a){var t=e._isUTC?h(e._a):Ot(e._a);this._isDSTShifted=this.isValid()&&E(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var fr=N.prototype;function hr(e,t,r,n){var i=ot(),a=h().set(n,t);return i[r](a,e)}function dr(e,t,r){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return hr(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=hr(e,n,r,"month");return i}function pr(e,t,r,n){"boolean"==typeof e?(s(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,s(t)&&(r=t,t=void 0),t=t||"");var i,a=ot(),o=e?a._week.dow:0;if(null!=r)return hr(t,(r+o)%7,n,"day");var u=[];for(i=0;i<7;i++)u[i]=hr(t,(i+o)%7,n,"day");return u}fr.calendar=function(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return A(n)?n.call(t,r):n},fr.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},fr.invalidDate=function(){return this._invalidDate},fr.ordinal=function(e){return this._ordinal.replace("%d",e)},fr.preparse=lr,fr.postformat=lr,fr.relativeTime=function(e,t,r,n){var i=this._relativeTime[r];return A(i)?i(e,t,r,n):i.replace(/%d/i,e)},fr.pastFuture=function(e,t){var r=this._relativeTime[e>0?"future":"past"];return A(r)?r(t):r.replace(/%s/i,t)},fr.set=function(e){var t,r;for(r in e)A(t=e[r])?this[r]=t:this["_"+r]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},fr.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Oe).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},fr.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Oe.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},fr.monthsParse=function(e,t,r){var n,i,a;if(this._monthsParseExact)return Me.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=h([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}},fr.monthsRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ke.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Ne),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},fr.monthsShortRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ke.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=xe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},fr.week=function(e){return Le(e,this._week.dow,this._week.doy).week},fr.firstDayOfYear=function(){return this._week.doy},fr.firstDayOfWeek=function(){return this._week.dow},fr.weekdays=function(e,t){var r=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?We(r,this._week.dow):e?r[e.day()]:r},fr.weekdaysMin=function(e){return!0===e?We(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},fr.weekdaysShort=function(e){return!0===e?We(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},fr.weekdaysParse=function(e,t,r){var n,i,a;if(this._weekdaysParseExact)return Ge.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=h([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}},fr.weekdaysRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=He),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},fr.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Be),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},fr.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ke),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},fr.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},fr.meridiem=function(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"},it("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=T("moment.lang is deprecated. Use moment.locale instead.",it),n.langData=T("moment.langData is deprecated. Use moment.localeData instead.",ot);var mr=Math.abs;function yr(e,t,r,n){var i=jt(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function vr(e){return e<0?Math.floor(e):Math.ceil(e)}function gr(e){return 4800*e/146097}function br(e){return 146097*e/4800}function _r(e){return function(){return this.as(e)}}var wr=_r("ms"),Sr=_r("s"),Er=_r("m"),Or=_r("h"),Tr=_r("d"),Dr=_r("w"),Mr=_r("M"),Rr=_r("Q"),Ar=_r("y");function xr(e){return function(){return this.isValid()?this._data[e]:NaN}}var Nr=xr("milliseconds"),kr=xr("seconds"),Yr=xr("minutes"),Cr=xr("hours"),Pr=xr("days"),Ir=xr("months"),Lr=xr("years"),Ur=Math.round,Wr={ss:44,s:45,m:45,h:22,d:26,M:11};function jr(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}var Vr=Math.abs;function Fr(e){return(e>0)-(e<0)||+e}function Gr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r=Vr(this._milliseconds)/1e3,n=Vr(this._days),i=Vr(this._months);e=w(r/60),t=w(e/60),r%=60,e%=60;var a=w(i/12),o=i%=12,s=n,u=t,c=e,l=r?r.toFixed(3).replace(/\.?0+$/,""):"",f=this.asSeconds();if(!f)return"P0D";var h=f<0?"-":"",d=Fr(this._months)!==Fr(f)?"-":"",p=Fr(this._days)!==Fr(f)?"-":"",m=Fr(this._milliseconds)!==Fr(f)?"-":"";return h+"P"+(a?d+a+"Y":"")+(o?d+o+"M":"")+(s?p+s+"D":"")+(u||c||l?"T":"")+(u?m+u+"H":"")+(c?m+c+"M":"")+(l?m+l+"S":"")}var Hr=At.prototype;return Hr.isValid=function(){return this._isValid},Hr.abs=function(){var e=this._data;return this._milliseconds=mr(this._milliseconds),this._days=mr(this._days),this._months=mr(this._months),e.milliseconds=mr(e.milliseconds),e.seconds=mr(e.seconds),e.minutes=mr(e.minutes),e.hours=mr(e.hours),e.months=mr(e.months),e.years=mr(e.years),this},Hr.add=function(e,t){return yr(this,e,t,1)},Hr.subtract=function(e,t){return yr(this,e,t,-1)},Hr.as=function(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if("month"===(e=C(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,r=this._months+gr(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(br(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},Hr.asMilliseconds=wr,Hr.asSeconds=Sr,Hr.asMinutes=Er,Hr.asHours=Or,Hr.asDays=Tr,Hr.asWeeks=Dr,Hr.asMonths=Mr,Hr.asQuarters=Rr,Hr.asYears=Ar,Hr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN},Hr._bubble=function(){var e,t,r,n,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*vr(br(s)+o),o=0,s=0),u.milliseconds=a%1e3,e=w(a/1e3),u.seconds=e%60,t=w(e/60),u.minutes=t%60,r=w(t/60),u.hours=r%24,o+=w(r/24),i=w(gr(o)),s+=i,o-=vr(br(i)),n=w(s/12),s%=12,u.days=o,u.months=s,u.years=n,this},Hr.clone=function(){return jt(this)},Hr.get=function(e){return e=C(e),this.isValid()?this[e+"s"]():NaN},Hr.milliseconds=Nr,Hr.seconds=kr,Hr.minutes=Yr,Hr.hours=Cr,Hr.days=Pr,Hr.weeks=function(){return w(this.days()/7)},Hr.months=Ir,Hr.years=Lr,Hr.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),r=function(e,t,r){var n=jt(e).abs(),i=Ur(n.as("s")),a=Ur(n.as("m")),o=Ur(n.as("h")),s=Ur(n.as("d")),u=Ur(n.as("M")),c=Ur(n.as("y")),l=i<=Wr.ss&&["s",i]||i<Wr.s&&["ss",i]||a<=1&&["m"]||a<Wr.m&&["mm",a]||o<=1&&["h"]||o<Wr.h&&["hh",o]||s<=1&&["d"]||s<Wr.d&&["dd",s]||u<=1&&["M"]||u<Wr.M&&["MM",u]||c<=1&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=r,jr.apply(null,l)}(this,!e,t);return e&&(r=t.pastFuture(+this,r)),t.postformat(r)},Hr.toISOString=Gr,Hr.toString=Gr,Hr.toJSON=Gr,Hr.locale=Zt,Hr.localeData=Jt,Hr.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gr),Hr.lang=qt,G("X",0,0,"unix"),G("x",0,0,"valueOf"),ce("x",ie),ce("X",/[+-]?\d+(\.\d{1,3})?/),de("X",(function(e,t,r){r._d=new Date(1e3*parseFloat(e,10))})),de("x",(function(e,t,r){r._d=new Date(S(e))})),n.version="2.24.0",t=Ot,n.fn=cr,n.min=function(){var e=[].slice.call(arguments,0);return Mt("isBefore",e)},n.max=function(){var e=[].slice.call(arguments,0);return Mt("isAfter",e)},n.now=function(){return Date.now?Date.now():+new Date},n.utc=h,n.unix=function(e){return Ot(1e3*e)},n.months=function(e,t){return dr(e,t,"months")},n.isDate=u,n.locale=it,n.invalid=m,n.duration=jt,n.isMoment=_,n.weekdays=function(e,t,r){return pr(e,t,r,"weekdays")},n.parseZone=function(){return Ot.apply(null,arguments).parseZone()},n.localeData=ot,n.isDuration=xt,n.monthsShort=function(e,t){return dr(e,t,"monthsShort")},n.weekdaysMin=function(e,t,r){return pr(e,t,r,"weekdaysMin")},n.defineLocale=at,n.updateLocale=function(e,t){if(null!=t){var r,n,i=$e;null!=(n=nt(e))&&(i=n._config),t=x(i,t),(r=new N(t)).parentLocale=et[e],et[e]=r,it(e)}else null!=et[e]&&(null!=et[e].parentLocale?et[e]=et[e].parentLocale:null!=et[e]&&delete et[e]);return et[e]},n.locales=function(){return D(et)},n.weekdaysShort=function(e,t,r){return pr(e,t,r,"weekdaysShort")},n.normalizeUnits=C,n.relativeTimeRounding=function(e){return void 0===e?Ur:"function"==typeof e&&(Ur=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Wr[e]&&(void 0===t?Wr[e]:(Wr[e]=t,"s"===e&&(Wr.ss=t-1),!0))},n.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},n.prototype=cr,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()}).call(this,r(19)(e))},function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){return null==e?null:Array.isArray(e)?"".concat(e[0].alias,".").concat(e[1]):e.source?e.source:"object"===r(e)?JSON.stringify(e):e}e.exports={explain:function(e,t){var r=[];if(t){var o=e.map((function(e){return e.analyse})),s=o.shift(),u=!0,c=!1,l=void 0;try{for(var f,h=o[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=f.value;s={"Node Type":"Nested Loop","Startup Cost":s["Startup Cost"]+d["Startup Cost"],"Total Cost":s["Total Cost"]+d["Total Cost"],Plans:[s,d],"Actual Startup Time":s["Startup Cost"]+d["Startup Cost"],"Actual Total Time":s["Actual Total Time"]+d["Actual Total Time"],"Actual Rows":s["Actual Rows"],"Actual Loops":1}}}catch(e){c=!0,l=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}r.push(["QUERY PLAN"]),r.push([JSON.stringify([{Plan:s,"Total Runtime":s["Actual Total Time"]}])])}else{r.push(["index"].concat(i(Object.keys(e[0]))));var p=!0,m=!1,y=void 0;try{for(var v,g=e.entries()[Symbol.iterator]();!(p=(v=g.next()).done);p=!0){var b=n(v.value,2),_=b[0],w=b[1];r.push([_].concat(i(Object.values(w).map(a))))}}catch(e){m=!0,y=e}finally{try{p||null==g.return||g.return()}finally{if(m)throw y}}}return r},setAnalysis:function(e,t,r,n,i){e.analyse={"Node Type":"Seq Scan","Relation Name":e.name,Alias:e.alias||e.name,"Startup Cost":t,"Total Cost":r,"Plan Rows":n,"Plan Width":1,"Actual Startup Time":t,"Actual Total Time":r,"Actual Rows":i,"Actual Loops":1}}}},function(e,t){function r(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e){var t=new Map,r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;t.has(s[0])||t.set(s[0],s)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}e.exports={COMPOUND_OPERATORS:{INTERSECT:function(e,t){var r=e[0],a=i(e.slice(1)),o=i(t.slice(1)),s=[r],u=!0,c=!1,l=void 0;try{for(var f,h=a[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=n(f.value,2),p=d[0],m=d[1];o.has(p)&&s.push(m)}}catch(e){c=!0,l=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}return s},EXCEPT:function(e,t){var r=e[0],a=i(e.slice(1)),o=i(t.slice(1)),s=[r],u=!0,c=!1,l=void 0;try{for(var f,h=a[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=n(f.value,2),p=d[0],m=d[1];o.has(p)||s.push(m)}}catch(e){c=!0,l=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}return s},UNION:function(e,t){var a=e[0],o=i(e.slice(1)),s=i(t.slice(1)),u=!0,c=!1,l=void 0;try{for(var f,h=s[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=n(f.value,2),p=d[0],m=d[1];o.has(p)||o.set(p,m)}}catch(e){c=!0,l=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}return[a].concat(r(o.values()))},"UNION ALL":function(e,t){return[].concat(r(e),r(t.slice(1)))}},distinctResults:function(e){return Array.from(i(e).values())}}},function(e,t,r){e.exports=r(6)},function(e,t,r){var n=r(10).TOKEN_TYPES,i=Object.keys(n);e.exports={tokenize:function(e){var t=e.length,r=0,i=[];function a(){return i[i.length-1]}for(;r<t;){var o=e[r];if(/\s/.test(o))r++;else if("("===o||")"===o)i.push({type:n.BRACKET,value:o,start:r}),r++;else if(","===o)i.push({type:n.COMMA,start:r}),r++;else if("'"===o){var s=e.indexOf("'",r+1);if(s<0)throw new Error("Unterminated String: "+e.substring(r));for(;"\\"===e[s-1];)s=e.indexOf("'",s+1);var u=e.substring(r+1,s).replace(/\\'/g,"'");i.push({type:n.STRING,value:u,start:r}),r=s+1}else if('"'===o){var c=e.indexOf('"',r+1);if(c<0)throw new Error("Unterminated Name: "+e.substring(r));var l=e.substring(r+1,c);i.push({type:n.NAME,value:l,start:r}),r=c+1}else if(/^[-\d]/.test(o)){var f=e.substr(r),h=/^(?:0x[0-9a-f]+|-?\d+(?:\.\d+)?(?:e[+-]?\d+)?)/i.exec(f);if(h){var d=h[0];a().type===n.NUMBER&&"-"===d[0]&&(i.push({type:n.OPERATOR,value:"-",start:r}),d=d.substr(1),r++),i.push({type:n.NUMBER,value:d,start:r}),r+=d.length}else{if("-"!==o)throw new Error("Unrecognised number: '".concat(f.substr(0,10),"' at ").concat(r));i.push({type:n.OPERATOR,value:"-",start:r}),r+=1}}else{if(":"!==o){var p=e.substr(r),m=/^(?:SELECT|FROM|WHERE|ORDER BY|LIMIT|GROUP BY|OFFSET|HAVING|EXPLAIN|WITH|WINDOW|VALUES|AS|USING|ON|LEFT|INNER|OVER|PARTITION BY|DISTINCT|FILTER|WITHIN GROUP|ASC|DESC|ROWS|RANGE|GROUPS|UNBOUNDED|PRECEDING|FOLLOWING|CURRENT ROW|FORMAT)\b/i.exec(p);if(m){i.push({type:n.KEYWORD,value:m[0].toUpperCase(),start:r}),r+=m[0].length;continue}if(m=/^(?:UNION(?: ALL)?|INTERSECT|EXCEPT)\b/i.exec(p)){i.push({type:n.QUERY_OPERATOR,value:m[0].toUpperCase(),start:r}),r+=m[0].length;continue}if(m=/^([<>+=!*\/|%?]+|IS(?: NOT)? NULL\b|(?:NOT )?LIKE\b|(?:NOT )?REGEXP\b|(?:NOT )?IN\b|NOT\b|AND\b|OR\b|BETWEEN\b)/i.exec(p)){var y=n.OPERATOR;"*"===m[0]&&(a().type===n.KEYWORD||a().type===n.BRACKET&&"("===a().value||a().type===n.COMMA)&&(y=n.NAME),i.push({type:y,value:m[0],start:r}),r+=m[0].length;continue}if(m=/^(TRUE|FALSE|NULL|NOW|PI)/i.exec(p)){i.push({type:n.CONSTANT,value:m[0].toUpperCase(),start:r}),r+=m[0].length;continue}if(m=/^([a-z_][a-z0-9_\.\*]*)/i.exec(p)){i.push({type:n.NAME,value:m[0],start:r}),r+=m[0].length;continue}throw new Error("Unrecognised input: '".concat(p.substr(0,10),"' at ").concat(r))}var v=/[a-z0-9_]+/gi;v.lastIndex=r;var g=v.exec(e);if(!g)throw Error("Tokenizer thought it was getting a param");i.push({type:n.PARAM,value:g[0],start:r}),r+=g[0].length+1}}return i},TOKEN_TYPES:n,DEBUG_TOKEN_TYPES:i}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}var s=r(4),u=s.VALUE_FUNCTIONS,c=s.AGGREGATE_FUNCTIONS,l=s.WINDOW_FUNCTIONS,f=s.TABLE_VALUED_FUNCTIONS;r(6);function h(){return(h=o(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r in m)){e.next=2;break}return e.abrupt("return",m[r](t));case 2:throw new Error("Unkown information_schema view: ".concat(r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.exports={informationSchema:function(e,t){return h.apply(this,arguments)}};var d,p,m={tables:(p=o(regeneratorRuntime.mark((function e(t){var r,n,a,o,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.providers,n=t.views,o="BASE TABLE",(a=[]).push.apply(a,i(Object.keys(m).map((function(e){return{table_schema:"information_schema",table_name:e,table_type:"SYSTEM VIEW"}})))),s=regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c[u],"function"!=typeof(r=t.callbacks).getTables){e.next=7;break}return e.next=5,r.getTables();case 5:n=e.sent,a.push.apply(a,i(n.map((function(e){return{table_schema:t.name,table_name:e,table_type:o}}))));case 7:case"end":return e.stop()}}),e)})),u=0,c=Object.values(r);case 6:if(!(u<c.length)){e.next=11;break}return e.delegateYield(s(),"t0",8);case 8:u++,e.next=6;break;case 11:for(l in o="VIEW",n)a.push({table_schema:"",table_name:l,table_type:o});return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)}),columns:(d=o(regeneratorRuntime.mark((function e(t){var r,a,o,s,u,c,l,f,h,d,p,m,y,v,g,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.views,a=t.schema,o=a.callbacks,s=[],u=t.findWhere("table_name"),"function"!=typeof o.getTables||"function"!=typeof o.getColumns){e.next=31;break}c=o.getTables(),l=!0,f=!1,h=void 0,e.prev=9,d=regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.value,u&&t!==u){e.next=6;break}return e.next=4,o.getColumns(t);case 4:r=e.sent,s.push.apply(s,i(r.map((function(e,r){var n=e.name,i=e.type;return{table_schema:a.name,table_name:t,column_name:n,ordinal_position:r+1,data_type:i}}))));case 6:case"end":return e.stop()}}),e)})),p=c[Symbol.iterator]();case 12:if(l=(m=p.next()).done){e.next=17;break}return e.delegateYield(d(),"t0",14);case 14:l=!0,e.next=12;break;case 17:e.next=23;break;case 19:e.prev=19,e.t1=e.catch(9),f=!0,h=e.t1;case 23:e.prev=23,e.prev=24,l||null==p.return||p.return();case 26:if(e.prev=26,!f){e.next=29;break}throw h;case 29:return e.finish(26);case 30:return e.finish(23);case 31:e.t2=regeneratorRuntime.keys(r);case 32:if((e.t3=e.t2()).done){e.next=42;break}if(y=e.t3.value,u&&y!==u){e.next=40;break}return e.next=37,t.query.run(r[y]);case 37:for(v=e.sent,g=v[0],b=0;b<g.length;b++)s.push({table_schema:a.name,table_name:y,column_name:g[b],ordinal_position:b+1,data_type:v.length>1?n(v[1][b]):null});case 40:e.next=32;break;case 42:return e.abrupt("return",s);case 43:case"end":return e.stop()}}),e,null,[[9,19,23,31],[24,,26,30]])}))),function(e){return d.apply(this,arguments)}),views:function(e){var t=e.schema,r=e.views,n=[];for(var i in r)n.push({table_schema:t.name,table_name:i,view_definition:r[i]});return n},routines:function(e){var t=e.schema,r=t.name,n=t.userFunctions,i=[];function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"FUNCTION",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"system",a=String(t),o=/function ([a-zA-Z0-9]+)\(\) { \[native code\] }/.exec(a);return{routine_schema:i,routine_name:e,routine_type:n,data_type:r,routine_body:"EXTERNAL",routine_definition:o?null:a,external_name:o?o[1]:e,external_language:o?"c":"js"}}for(var o in u)i.push(a(o,u[o]));for(var s in c)i.push(a(s,c[s],null,"AGGREGATE FUNCTION"));for(var h in f)i.push(a(h,f[h],"table","TABLE VALUED FUNCTION"));for(var d in l)i.push(a(d,l[d],null,"WINDOW FUNCTION"));for(var p in n)i.push(a(p,n[p],null,void 0,r));return i},routine_columns:function(e){var t=e.findWhere,r=e.schema,n=[],i=t("table_name");for(var a in f)i&&a!==i||n.push({table_schema:r.name,table_name:a,column_name:"value",ordinal_position:1,data_type:null});return n},schemata:function(e){return[{schema_name:"information_schema"}].concat(i(Object.keys(e.providers).map((function(e){return{schema_name:e}}))))}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n,i,a,o,s;
/*! Moment Duration Format v2.2.2
 *  https://github.com/jsmreese/moment-duration-format
 *  Date: 2018-02-16
 *
 *  Duration format plugin function for the Moment.js library
 *  http://momentjs.com/
 *
 *  Copyright 2018 John Madhavan-Reese
 *  Released under the MIT license
 */o=this,s=function(e){var t=!1,r=!1,n=!1,i=!1,a="escape years months weeks days hours minutes seconds milliseconds general".split(" "),o=[{type:"seconds",targets:[{type:"minutes",value:60},{type:"hours",value:3600},{type:"days",value:86400},{type:"weeks",value:604800},{type:"months",value:2678400},{type:"years",value:31536e3}]},{type:"minutes",targets:[{type:"hours",value:60},{type:"days",value:1440},{type:"weeks",value:10080},{type:"months",value:44640},{type:"years",value:525600}]},{type:"hours",targets:[{type:"days",value:24},{type:"weeks",value:168},{type:"months",value:744},{type:"years",value:8760}]},{type:"days",targets:[{type:"weeks",value:7},{type:"months",value:31},{type:"years",value:365}]},{type:"months",targets:[{type:"years",value:12}]}];function s(e,t){return!(t.length>e.length)&&-1!==e.indexOf(t)}function u(e){for(var t="";e;)t+="0",e-=1;return t}function c(e,t){var r=e+"+"+g(D(t).sort(),(function(e){return e+":"+t[e]})).join(",");return c.cache[r]||(c.cache[r]=Intl.NumberFormat(e,t)),c.cache[r]}function l(e,t,a){var o,s,f,h=t.useToLocaleString,d=t.useGrouping,p=d&&t.grouping.slice(),m=t.maximumSignificantDigits,y=t.minimumIntegerDigits||1,v=t.fractionDigits||0,g=t.groupingSeparator,b=t.decimalSeparator;if(h&&a){var _,w={minimumIntegerDigits:y,useGrouping:d};return v&&(w.maximumFractionDigits=v,w.minimumFractionDigits=v),m&&e>0&&(w.maximumSignificantDigits=m),n?(i||((_=T({},t)).useGrouping=!1,_.decimalSeparator=".",e=parseFloat(l(e,_),10)),c(a,w).format(e)):(r||((_=T({},t)).useGrouping=!1,_.decimalSeparator=".",e=parseFloat(l(e,_),10)),e.toLocaleString(a,w))}var S=(m?e.toPrecision(m+1):e.toFixed(v+1)).split("e");f=S[1]||"",s=(S=S[0].split("."))[1]||"";var E=(o=S[0]||"").length,O=s.length,D=E+O,M=o+s;(m&&D===m+1||!m&&O===v+1)&&((M=function(e){for(var t=e.split("").reverse(),r=0,n=!0;n&&r<t.length;)r?"9"===t[r]?t[r]="0":(t[r]=(parseInt(t[r],10)+1).toString(),n=!1):(parseInt(t[r],10)<5&&(n=!1),t[r]="0"),r+=1;return n&&t.push("1"),t.reverse().join("")}(M)).length===D+1&&(E+=1),O&&(M=M.slice(0,-1)),o=M.slice(0,E),s=M.slice(E)),m&&(s=s.replace(/0*$/,""));var R=parseInt(f,10);R>0?s.length<=R?(o+=s+=u(R-s.length),s=""):(o+=s.slice(0,R),s=s.slice(R)):R<0&&(s=u(Math.abs(R)-o.length)+o+s,o="0"),m||((s=s.slice(0,v)).length<v&&(s+=u(v-s.length)),o.length<y&&(o=u(y-o.length)+o));var A,x="";if(d)for(S=o;S.length;)p.length&&(A=p.shift()),x&&(x=g+x),x=S.slice(-A)+x,S=S.slice(0,-A);else x=o;return s&&(x=x+b+s),x}function f(e,t){return e.label.length>t.label.length?-1:e.label.length<t.label.length?1:0}function h(e,t){var r=[];return v(D(t),(function(n){if("_durationLabels"===n.slice(0,15)){var i=n.slice(15).toLowerCase();v(D(t[n]),(function(a){a.slice(0,1)===e&&r.push({type:i,key:a,label:t[n][a]})}))}})),r}c.cache={};var d={durationLabelsStandard:{S:"millisecond",SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:function(e,t,r){return 1===t&&null===r?e:e+e}};function p(e){return"[object Array]"===Object.prototype.toString.call(e)}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function y(e,t){var r,n=0,i=e&&e.length||0;for("function"!=typeof t&&(r=t,t=function(e){return e===r});n<i;){if(t(e[n]))return e[n];n+=1}}function v(e,t){var r=0,n=e.length;if(e&&n)for(;r<n;){if(!1===t(e[r],r))return;r+=1}}function g(e,t){var r=0,n=e.length,i=[];if(!e||!n)return i;for(;r<n;)i[r]=t(e[r],r),r+=1;return i}function b(e,t){return g(e,(function(e){return e[t]}))}function _(e){var t=[];return v(e,(function(e){e&&t.push(e)})),t}function w(e){var t=[];return v(e,(function(e){y(t,e)||t.push(e)})),t}function S(e,t){var r=[];return v(e,(function(e){v(t,(function(t){e===t&&r.push(e)}))})),w(r)}function E(e,t){var r=[];return v(e,(function(n,i){if(!t(n))return r=e.slice(i),!1})),r}function O(e,t){return E(e.slice().reverse(),t).reverse()}function T(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function D(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}function M(e,t){var r=0,n=e.length;if(!e||!n)return!1;for(;r<n;){if(!0===t(e[r],r))return!0;r+=1}return!1}function R(e){var t=[];return v(e,(function(e){t=t.concat(e)})),t}function A(e){return"3.6"===e(3.55,"en",{useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:1,maximumFractionDigits:1})}function x(e){var t=!0;return!!((t=(t=(t=t&&"1"===e(1,"en",{minimumIntegerDigits:1}))&&"01"===e(1,"en",{minimumIntegerDigits:2}))&&"001"===e(1,"en",{minimumIntegerDigits:3}))&&(t=(t=(t=(t=t&&"100"===e(99.99,"en",{maximumFractionDigits:0,minimumFractionDigits:0}))&&"100.0"===e(99.99,"en",{maximumFractionDigits:1,minimumFractionDigits:1}))&&"99.99"===e(99.99,"en",{maximumFractionDigits:2,minimumFractionDigits:2}))&&"99.990"===e(99.99,"en",{maximumFractionDigits:3,minimumFractionDigits:3}))&&(t=(t=(t=(t=(t=t&&"100"===e(99.99,"en",{maximumSignificantDigits:1}))&&"100"===e(99.99,"en",{maximumSignificantDigits:2}))&&"100"===e(99.99,"en",{maximumSignificantDigits:3}))&&"99.99"===e(99.99,"en",{maximumSignificantDigits:4}))&&"99.99"===e(99.99,"en",{maximumSignificantDigits:5}))&&(t=(t=t&&"1,000"===e(1e3,"en",{useGrouping:!0}))&&"1000"===e(1e3,"en",{useGrouping:!1})))}function N(){var e,t=[].slice.call(arguments),r={};if(v(t,(function(t,n){if(!n){if(!p(t))throw"Expected array as the first argument to durationsFormat.";e=t}"string"!=typeof t&&"function"!=typeof t?"number"!=typeof t?m(t)&&T(r,t):r.precision=t:r.template=t})),!e||!e.length)return[];r.returnMomentTypes=!0;var n=g(e,(function(e){return e.format(r)})),i=S(a,w(b(R(n),"type"))),o=r.largest;return o&&(i=i.slice(0,o)),r.returnMomentTypes=!1,r.outputTypes=i,g(e,(function(e){return e.format(r)}))}function k(){var r=[].slice.call(arguments),i=T({},this.format.defaults),u=this.asMilliseconds(),c=this.asMonths();"function"==typeof this.isValid&&!1===this.isValid()&&(u=0,c=0);var R=u<0,A=e.duration(Math.abs(u),"milliseconds"),x=e.duration(Math.abs(c),"months");v(r,(function(e){"string"!=typeof e&&"function"!=typeof e?"number"!=typeof e?m(e)&&T(i,e):i.precision=e:i.template=e}));var N={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"},k={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/};i.types=a;var Y=function(e){return y(a,(function(t){return k[t].test(e)}))},C=new RegExp(g(a,(function(e){return k[e].source})).join("|"),"g");i.duration=this;var P="function"==typeof i.template?i.template.apply(i):i.template,I=i.outputTypes,L=i.returnMomentTypes,U=i.largest,W=[];I||(p(i.stopTrim)&&(i.stopTrim=i.stopTrim.join("")),i.stopTrim&&v(i.stopTrim.match(C),(function(e){var t=Y(e);"escape"!==t&&"general"!==t&&W.push(t)})));var j=e.localeData();j||(j={}),v(D(d),(function(e){"function"!=typeof d[e]?j["_"+e]||(j["_"+e]=d[e]):j[e]||(j[e]=d[e])})),v(D(j._durationTimeTemplates),(function(e){P=P.replace("_"+e+"_",j._durationTimeTemplates[e])}));var V=i.userLocale||e.locale(),F=i.useLeftUnits,G=i.usePlural,H=i.precision,B=i.forceLength,K=i.useGrouping,z=i.trunc,Z=i.useSignificantDigits&&H>0,q=Z?i.precision:0,J=q,Q=i.minValue,X=!1,$=i.maxValue,ee=!1,te=i.useToLocaleString,re=i.groupingSeparator,ne=i.decimalSeparator,ie=i.grouping;te=te&&(t||n);var ae=i.trim;p(ae)&&(ae=ae.join(" ")),null===ae&&(U||$||Z)&&(ae="all"),null!==ae&&!0!==ae&&"left"!==ae&&"right"!==ae||(ae="large"),!1===ae&&(ae="");var oe=function(e){return e.test(ae)},se=/large/,ue=/small/,ce=/both/,le=/mid/,fe=/^all|[^sm]all/,he=/final/,de=U>0||M([se,ce,fe],oe),pe=M([ue,ce,fe],oe),me=M([le,fe],oe),ye=M([he,fe],oe),ve=g(P.match(C),(function(e,t){var r=Y(e);return"*"===e.slice(0,1)&&(e=e.slice(1),"escape"!==r&&"general"!==r&&W.push(r)),{index:t,length:e.length,text:"",token:"escape"===r?e.replace(k.escape,"$1"):e,type:"escape"===r||"general"===r?null:r}})),ge={index:0,length:0,token:"",text:"",type:null},be=[];F&&ve.reverse(),v(ve,(function(e){if(e.type)return(ge.type||ge.text)&&be.push(ge),void(ge=e);F?ge.text=e.token+ge.text:ge.text+=e.token})),(ge.type||ge.text)&&be.push(ge),F&&be.reverse();var _e=S(a,w(_(b(be,"type"))));if(!_e.length)return b(be,"text").join("");_e=g(_e,(function(e,t){var r,n=t+1===_e.length,a=!t;r="years"===e||"months"===e?x.as(e):A.as(e);var o=Math.floor(r),s=r-o,u=y(be,(function(t){return e===t.type}));return a&&$&&r>$&&(ee=!0),n&&Q&&Math.abs(i.duration.as(e))<Q&&(X=!0),a&&null===B&&u.length>1&&(B=!0),A.subtract(o,e),x.subtract(o,e),{rawValue:r,wholeValue:o,decimalValue:n?s:0,isSmallest:n,isLargest:a,type:e,tokenLength:u.length}}));var we=z?Math.floor:Math.round,Se=function(e,t){var r=Math.pow(10,t);return we(e*r)/r},Ee=!1,Oe=!1,Te=function(e,t){var r={useGrouping:K,groupingSeparator:re,decimalSeparator:ne,grouping:ie,useToLocaleString:te};return Z&&(q<=0?(e.rawValue=0,e.wholeValue=0,e.decimalValue=0):(r.maximumSignificantDigits=q,e.significantDigits=q)),ee&&!Oe&&(e.isLargest?(e.wholeValue=$,e.decimalValue=0):(e.wholeValue=0,e.decimalValue=0)),X&&!Oe&&(e.isSmallest?(e.wholeValue=Q,e.decimalValue=0):(e.wholeValue=0,e.decimalValue=0)),e.isSmallest||e.significantDigits&&e.significantDigits-e.wholeValue.toString().length<=0?H<0?e.value=Se(e.wholeValue,H):0===H?e.value=we(e.wholeValue+e.decimalValue):Z?(e.value=z?Se(e.rawValue,q-e.wholeValue.toString().length):e.rawValue,e.wholeValue&&(q-=e.wholeValue.toString().length)):(r.fractionDigits=H,e.value=z?e.wholeValue+Se(e.decimalValue,H):e.wholeValue+e.decimalValue):Z&&e.wholeValue?(e.value=Math.round(Se(e.wholeValue,e.significantDigits-e.wholeValue.toString().length)),q-=e.wholeValue.toString().length):e.value=e.wholeValue,e.tokenLength>1&&(B||Ee)&&(r.minimumIntegerDigits=e.tokenLength,Oe&&r.maximumSignificantDigits<e.tokenLength&&delete r.maximumSignificantDigits),!Ee&&(e.value>0||""===ae||y(W,e.type)||y(I,e.type))&&(Ee=!0),e.formattedValue=l(e.value,r,V),r.useGrouping=!1,r.decimalSeparator=".",e.formattedValueEn=l(e.value,r,"en"),2===e.tokenLength&&"milliseconds"===e.type&&(e.formattedValueMS=l(e.value,{minimumIntegerDigits:3,useGrouping:!1},"en").slice(0,2)),e};if((_e=_(_e=g(_e,Te))).length>1){var De=function(e){return y(_e,(function(t){return t.type===e}))},Me=function(e){var t=De(e.type);t&&v(e.targets,(function(e){var r=De(e.type);r&&parseInt(t.formattedValueEn,10)===e.value&&(t.rawValue=0,t.wholeValue=0,t.decimalValue=0,r.rawValue+=1,r.wholeValue+=1,r.decimalValue=0,r.formattedValueEn=r.wholeValue.toString(),Oe=!0)}))};v(o,Me)}return Oe&&(Ee=!1,q=J,_e=_(_e=g(_e,Te))),!I||ee&&!i.trim?(de&&(_e=E(_e,(function(e){return!e.isSmallest&&!e.wholeValue&&!y(W,e.type)}))),U&&_e.length&&(_e=_e.slice(0,U)),pe&&_e.length>1&&(_e=O(_e,(function(e){return!e.wholeValue&&!y(W,e.type)&&!e.isLargest}))),me&&(_e=_(_e=g(_e,(function(e,t){return t>0&&t<_e.length-1&&!e.wholeValue?null:e})))),!ye||1!==_e.length||_e[0].wholeValue||!z&&_e[0].isSmallest&&_e[0].rawValue<Q||(_e=[])):_e=_(_e=g(_e,(function(e){return y(I,(function(t){return e.type===t}))?e:null}))),L?_e:(v(be,(function(e){var t=N[e.type],r=y(_e,(function(t){return t.type===e.type}));if(t&&r){var n=r.formattedValueEn.split(".");n[0]=parseInt(n[0],10),n[1]?n[1]=parseFloat("0."+n[1],10):n[1]=null;var i=j.durationPluralKey(t,n[0],n[1]),a=h(t,j),o=!1,u={};v(j._durationLabelTypes,(function(t){var r=y(a,(function(e){return e.type===t.type&&e.key===i}));r&&(u[r.type]=r.label,s(e.text,t.string)&&(e.text=e.text.replace(t.string,r.label),o=!0))})),G&&!o&&(a.sort(f),v(a,(function(t){return u[t.type]===t.label?!s(e.text,t.label)&&void 0:s(e.text,t.label)?(e.text=e.text.replace(t.label,u[t.type]),!1):void 0})))}})),(be=g(be,(function(e){if(!e.type)return e.text;var t=y(_e,(function(t){return t.type===e.type}));if(!t)return"";var r="";return F&&(r+=e.text),(R&&ee||!R&&X)&&(r+="< ",ee=!1,X=!1),(R&&X||!R&&ee)&&(r+="> ",ee=!1,X=!1),R&&(t.value>0||""===ae||y(W,t.type)||y(I,t.type))&&(r+="-",R=!1),"milliseconds"===e.type&&t.formattedValueMS?r+=t.formattedValueMS:r+=t.formattedValue,F||(r+=e.text),r}))).join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,""))}function Y(){var e=this.duration,t=function(t){return e._data[t]},r=y(this.types,t),n=function(e,t){for(var r=e.length;r-=1;)if(t(e[r]))return e[r]}(this.types,t);switch(r){case"milliseconds":return"S __";case"seconds":case"minutes":return"*_MS_";case"hours":return"_HMS_";case"days":if(r===n)return"d __";case"weeks":return r===n?"w __":(null===this.trim&&(this.trim="both"),"w __, d __, h __");case"months":if(r===n)return"M __";case"years":return r===n?"y __":(null===this.trim&&(this.trim="both"),"y __, M __, d __");default:return null===this.trim&&(this.trim="both"),"y __, d __, h __, m __, s __"}}function C(e){if(!e)throw"Moment Duration Format init cannot find moment instance.";e.duration.format=N,e.duration.fn.format=k,e.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:!1,forceLength:null,userLocale:null,usePlural:!0,useLeftUnits:!1,useGrouping:!0,useSignificantDigits:!1,template:Y,useToLocaleString:!0,groupingSeparator:",",decimalSeparator:".",grouping:[3]},e.updateLocale("en",d)}var P=function(e,t,r){return e.toLocaleString(t,r)};t=function(){try{(0).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1}()&&x(P),r=t&&A(P);var I=function(e,t,r){if("undefined"!=typeof window&&window&&window.Intl&&window.Intl.NumberFormat)return window.Intl.NumberFormat(t,r).format(e)};return n=x(I),i=n&&A(I),C(e),C},i=[r(13)],void 0===(a="function"==typeof(n=s)?n.apply(t,i):n)||(e.exports=a),o&&(o.momentDurationFormatSetup=o.moment?s(o.moment):s)},function(e,t,r){function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=r(4),a=(i.OPERATORS,i.AGGREGATE_FUNCTIONS),o=r(0).NODE_TYPES,s=r(2),u=s.getRowEvaluator,c=s.rowSorter,l=s.aggregateValues;e.exports={groupRows:function(e,t,r){var n={},i=!0,a=!1,o=void 0;try{for(var s,u=function(){var i=s.value,a=JSON.stringify(r.map((function(r){return e.evaluate(i,r,t)})));n[a]||(n[a]=[]),n[a].push(i)},c=t[Symbol.iterator]();!(i=(s=c.next()).done);i=!0)u()}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return Object.values(n).map((function(e){var t=e[0];return t.group=e,t}))},populateAggregates:function(e,t,r,i){if(t.some((function(e){return e&&e.id in a&&!e.window})))if(0===r.length){var s=t.findIndex((function(e){return"COUNT"===e.id}));if(s>=0){var f=[];f[s]=0,r=[f]}}else{if(!i){var h=r[0];h.group=r,r=[h]}r=r.map((function(r){return function(e,t,r){if(0===r.length)return[];var i=r[0];return t.forEach((function(t,s){if(void 0===i[s]&&t.type===o.FUNCTION_CALL&&!t.window){if(!(t.id in a))throw new Error("Function not found: "+t.id);var f=a[t.id];if(0===t.children.length)throw new Error("Function ".concat(t.id," requires at least one paramater."));var h=r;t.filter&&(h=h.filter(u(e,t.filter))),t.order&&h.sort(c(e,t.order));var d=t.children.map((function(r){return l(e,h,r,t.distinct)}));i[s]=f.apply(void 0,n(d))}})),i}(e,t,r.group)}))}return r}}},function(e,t,r){var n=r(0).NODE_TYPES,i=r(2).comparator;function a(e,t,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=t.orderBy[i];if(void 0===o){var s;if(void 0===(s=r.type===n.NUMBER?t[+r.id<0?t.length+ +r.id:+r.id-1]:e(t,r,a)))throw new Error("Order by unknown column: "+r.source);t.orderBy[i]=s,o=s}return o}e.exports={sortRows:function(e,t,r){return t.forEach((function(e){e.orderBy=[]})),t=t.sort((function(t,n){for(var o=0;o<r.length;o++){var s=r[o],u=a(e,t,s,o),c=a(e,n,s,o),l=i(u,c)*(s.desc?-1:1);if(0!==l)return l}return 0}))}}},function(e,t,r){function n(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,u,"next",e)}function u(e){n(o,i,a,s,u,"throw",e)}s(void 0)}))}}e.exports={getCTEsMap:function(e,t){return u.apply(this,arguments)}};var a=r(0).NODE_TYPES,o=r(9),s=r(1).queryResultToObjectArray;function u(){return(u=i(regeneratorRuntime.mark((function e(t,r){var n,i,u,c,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},i=!0,u=!1,c=void 0,e.prev=4,l=r[Symbol.iterator]();case 6:if(i=(f=l.next()).done){e.next=19;break}if((h=f.value).type===a.SYMBOL){e.next=10;break}throw TypeError("getCTEsMap: node isn't a symbol");case 10:return e.t0=s,e.next=13,o(t,h.children[0]);case 13:e.t1=e.sent,e.t2=h.headers,n[h.id]=(0,e.t0)(e.t1,e.t2);case 16:i=!0,e.next=6;break;case 19:e.next=25;break;case 21:e.prev=21,e.t3=e.catch(4),u=!0,c=e.t3;case 25:e.prev=25,e.prev=26,i||null==l.return||l.return();case 28:if(e.prev=28,!u){e.next=31;break}throw c;case 31:return e.finish(28);case 32:return e.finish(25);case 33:return e.abrupt("return",n);case 34:case"end":return e.stop()}}),e,null,[[4,21,25,33],[26,,28,32]])})))).apply(this,arguments)}},function(e,t,r){e.exports={nodeToQueryObject:function(e){if(e.type!==n.STATEMENT)throw TypeError("Not a statement node");var t={},r=!0,i=!1,a=void 0;try{for(var o,s=e.children[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value,c=u.id.toString().toLowerCase();/WHERE|HAVING|LIMIT|OFFSET|EXPLAIN/.test(u.id)?t[c]=u.children[0]:t[c]=u.children}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}if(!t.from&&!t.select&&!t.values)throw new Error("You must specify FROM or SELECT or VALUES");if(t.values&&(t.from||t.select))throw Error("VALUES cannot be used with FROM or SELECT");t.from||(t.from=[]);t.select||(t.select=[]);0===t.select.length&&t.select.push({type:n.SYMBOL,id:"*"});return t},nodesToTables:function(e){return e.map((function(e,t){if(e.type!==n.STATEMENT&&e.type!==n.COMPOUND_QUERY&&e.type!==n.SYMBOL&&e.type!==n.FUNCTION_CALL)throw new Error("Node type ".concat(e.type," cannot be a table"));var r=e.type===n.STATEMENT||e.type===n.COMPOUND_QUERY?"SUBQUERY_".concat(t):String(e.id);return{name:r,alias:e.alias,headers:e.headers,join:e.using,predicate:e.predicate,inner:e.inner,params:e.children,explain:"",rowCount:0,symbol:Symbol("Table ".concat(e.alias||r)),subquery:e.type===n.STATEMENT||e.type===n.COMPOUND_QUERY?e:null}}))},getWindowsMap:function(e){var t={},r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;if(u.type!==n.SYMBOL)throw TypeError("getWindowsMap: node isn't a symbol");if(!u.window||"string"==typeof u.window)throw TypeError("Window '".concat(u.id,"' doesn't have a definition"));t[u.id]=u.window}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return t}};var n=r(0).NODE_TYPES},function(e,t,r){e.exports=function(e,t){var r=e[0];if(!r)return[];var i=r.children.length,a=Array(i).fill(0).map((function(e,t){return"Col ".concat(t+1)})),o=e.map((function(e){return e.children.map((function(e){return n(e,t)}))}));return o.unshift(a),o};var n=r(2).evaluateConstantExpression},function(e,t,r){var n=r(2),i=n.evaluateConstantExpression,a=n.isConstantExpression;e.exports={applyLimit:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(void 0!==t&&!a(t))throw new Error("LIMIT must be a constant expression: ".concat(t.source));if(void 0!==r&&!a(r))throw new Error("OFFSET must be a constant expression: ".concat(r.source));var o=r?i(r,n):0,s=t?o+i(t,n):e.length;return e.slice(o,s)}}},function(e,t,r){var n=r(8),i=n.setJoin,a=n.setJoinPredicate,o=n.getRowData,s=n.setRowData,u=r(3),c=u.resolveConstant,l=u.resolvePath,f=r(3).resolveValue,h=r(2).evaluate,d=r(5).traverseWhereTree;function p(e){return this.tables.find((function(t){return t.name===e&&void 0!==t.join}))}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=";if(this.where)return d(this.where,e,t,this.params)}e.exports={getQueryContext:function(e,t){var r=t.tables,n=t.clauses,u=t.windows,d=t.subqueries,y=t.CTEs,v=t.schema,g=t.views,b=t.providers,_=t.outer,w=t.params,S={query:e,cols:[],colHeaders:[],colAlias:{},tables:r,where:n.where,having:n.having,orderBy:n["order by"],groupBy:n["group by"],windows:u,evaluate:null,resolveConstant:c,resolvePath:l,resolveValue:null,findTable:p,findWhere:m,setJoin:i,setJoinPredicate:a,getRowData:o,setRowData:s,subqueries:d,CTEs:y,views:g,schema:v,providers:b,userFunctions:v.userFunctions||{},outer:_,params:w};return S.evaluate=h.bind(S),S.resolveValue=f.bind(S),S.findTable=p.bind(S),S.findWhere=m.bind(S),S}}},function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){s(a,n,i,o,u,"next",e)}function u(e){s(a,n,i,o,u,"throw",e)}o(void 0)}))}}var c=r(11),l=r(1),f=l.queryResultToObjectArray,h=l.split;function d(){return(d=u(regeneratorRuntime.mark((function e(t){var r,n,s,u,l,d,p,m,y,v,g,b,_,w,S,E,O,T,D,M,R,A,x,N,k,Y,C,P,I,L,U,W,j,V,F,G,H,B,K,z,Z,q,J,Q,X,$,ee,te,re,ne,ie,ae,oe,se,ue,ce,le,fe,he,de,pe,me,ye;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=/^CREATE VIEW ([a-zA-Z0-9_]+) AS\s+/.exec(t))){e.next=7;break}return n=r[1],s=t.substring(r[0].length),this.views[n]=s,c.setItem("views",this.views),e.abrupt("return",!0);case 7:if(!(u=/^DROP VIEW ([a-zA-Z0-9_]+)/.exec(t))){e.next=13;break}return l=u[1],delete this.views[l],c.setItem("views",this.views),e.abrupt("return",!0);case 13:if(!(d=/^CREATE TABLE ([a-zA-Z0-9_\.]+)(?: PRIMARY KEY ([a-zA-Z0-9_]+))?/.exec(t))){e.next=27;break}if(p=d[1],m=d[2],y=p,p.includes(".")&&(g=h(p,".",2),b=o(g,2),v=b[0],y=b[1]),_=this.providers[v]||this.schema,!(w=_.callbacks).createTable){e.next=26;break}return e.next=23,w.createTable(y,m);case 23:return e.abrupt("return",!0);case 26:throw Error("Schema does not support creating tables");case 27:if(!(S=/^INSERT INTO ([a-zA-Z0-9_\.]+)(?: \(([a-zA-Z0-9_, ]+)\))?/.exec(t))){e.next=46;break}if(E=S[1],O=S[2]?S[2].split(",").map((function(e){return e.trim()})):null,T=E,E.includes(".")&&(M=h(E,".",2),R=o(M,2),D=R[0],T=R[1]),A=this.providers[D]||this.schema,(x=A.callbacks).insertIntoTable){e.next=36;break}throw Error("Schema does not support insertion");case 36:return N=t.substring(S[0].length),k="error",t.endsWith("ON DUPLICATE KEY IGNORE")?(N=N.substr(0,N.length-"ON DUPLICATE KEY IGNORE".length),k="ignore"):t.endsWith("ON DUPLICATE KEY UPDATE")&&(N=N.substr(0,N.length-"ON DUPLICATE KEY UPDATE".length),k="update"),e.next=41,this.runSelect(N);case 41:return Y=e.sent,C=f(Y,O),e.next=45,x.insertIntoTable(T,C,k);case 45:return e.abrupt("return",!0);case 46:if(!(P=/^UPDATE ([a-zA-Z0-9_\.]+)\s+SET ([a-zA-Z0-9_]+)\s*=\s*(.*)\s+WHERE ([a-zA-Z0-9_]+)\s*=\s*(.*)/.exec(t))){e.next=71;break}return I=P[1],L=P[2],U=P[3],W=P[4],j=P[5],V=I,I.includes(".")&&(G=h(I,".",2),H=o(G,2),F=H[0],V=H[1]),e.next=57,this.runSelect("SELECT "+U);case 57:return B=e.sent,K=B[1][0],e.next=61,this.runSelect("SELECT "+j);case 61:if(z=e.sent,Z=z[1][0],q=this.providers[F]||this.schema,!(J=q.callbacks).updateTable){e.next=70;break}return e.next=67,J.updateTable(V,(function(e){return i({},e,a({},L,K))}),(function(e){return e[W]==Z}));case 67:return e.abrupt("return",!0);case 70:throw Error("Schema does not support update");case 71:if(!(Q=/^DELETE FROM ([a-zA-Z0-9_\.]+)\s+WHERE (?:"([a-zA-Z0-9_ ]+)"|([a-zA-Z0-9_]+))\s*=\s*(.*)/.exec(t))){e.next=90;break}return X=Q[1],$=Q[2]||Q[3],ee=Q[4],te=X,X.includes(".")&&(ne=h(X,".",2),ie=o(ne,2),re=ie[0],te=ie[1]),e.next=80,this.runSelect("SELECT "+ee);case 80:if(ae=e.sent,oe=ae[1][0],se=this.providers[re]||this.schema,!(ue=se.callbacks).deleteFromTable){e.next=89;break}return e.next=86,ue.deleteFromTable(te,(function(e){return e[$]==oe}));case 86:return e.abrupt("return",!0);case 89:throw Error("Schema does not support update");case 90:if(!/^DELETE FROM/.test(t)){e.next=92;break}throw Error("Only able to perform simple deletes i.e. DELETE FROM table WHERE col = val");case 92:if(!(ce=/^DROP TABLE ([a-zA-Z0-9_\.]+)/.exec(t))){e.next=105;break}if(le=ce[1],fe=le,le.includes(".")&&(de=h(le,".",2),pe=o(de,2),he=pe[0],fe=pe[1]),me=this.providers[he]||this.schema,!(ye=me.callbacks).dropTable){e.next=104;break}return e.next=101,ye.dropTable(fe);case 101:return e.abrupt("return",!0);case 104:throw Error("Schema does not support creating tables");case 105:return e.abrupt("return",!1);case 106:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}e.exports={performDDL:function(e){return d.apply(this,arguments)},VIEW_KEY:"views"}}]);
//# sourceMappingURL=ijamcd-query.min.js.map